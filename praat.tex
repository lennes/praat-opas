%% LyX 1.3 created this file.  For more info, see http://www.lyx.org/.
%% Do not edit unless you really know what you are doing.
\documentclass[12pt,a4paper,finnish,finnish]{book}
\usepackage[T1]{fontenc}
\usepackage[latin1]{inputenc}
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}
\usepackage{makeidx}
\makeindex
\IfFileExists{url.sty}{\usepackage{url}}
                      {\newcommand{\url}{\texttt}}
\usepackage[authoryear]{natbib}

\makeatletter

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% LyX specific LaTeX commands.
%% Bold symbol macro for standard LaTeX users
\newcommand{\boldsymbol}[1]{\mbox{\boldmath $#1$}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Textclass specific LaTeX commands.
 \usepackage{verbatim}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% User specified LaTeX commands.
\usepackage{ae,aecompl}
\usepackage[plainpages=false,pdfpagelabels]{hyperref}
\usepackage[pdftex]{graphicx}
\usepackage{makeidx}

\input{/home/lennes/bin/tex/fihyph}

\AtBeginDocument{
  \renewcommand{\labelitemiii}{\normalfont\bfseries{--}}
  \renewcommand{\labelitemiv}{\normalfont\bfseries{--}}
}

\usepackage{babel}
\makeatother
\begin{document}

\title{Praat-opas}


\author{Mietta Lennes}


\date{Versio 1.0 - \today\\
PDF-versio koko oppaasta:\\
\url{http://www.helsinki.fi/puhetieteet/atk/praat/praat.pdf}}

\maketitle
\tableofcontents{}


\section*{Esipuhe}

Praat-ohjelmalla \citet{Boersma} on Suomessa paljon sek‰ todellisia
ett‰ potentiaalisia k‰ytt‰ji‰, koska se on ilmainen ja eritt‰in monipuolinen
puheentutkijan tyˆkalu, ja koska se toimii useimmissa laitteistoissa
ja k‰yttˆj‰rjestelmiss‰. Praat sopii samoista syist‰ mainiosti myˆs
fonetiikan ja eri kieliaineiden opetukseen.

Praat saattaa kuitenkin olla k‰yttˆliittym‰lt‰‰n aluksi hieman hankalasti
hahmotettava, jos on tottunut johonkin muuhun puheanalyysiohjelmistoon
tai ei ole aikaisemmin k‰ytt‰nyt mit‰‰n analyysiohjelmaa. K‰yttˆkynnys
voi t‰m‰n vuoksi olla korkea --- varsinkin jos eri painikkeiden ja
komentojen r‰m‰p‰inen kokeileminen ujostuttaa, eik‰ halua tai ehdi
kahlata l‰pi englanninkielist‰ opasteksti‰.

T‰m‰n suomenkielisen oppaan tavoitteena on neuvoa vasta-alkajille
Praatin perusk‰yttˆ‰ sek‰ tarjota toimintaohjeet ja v‰h‰n taustatietoa
muutaman t‰rkeimm‰n akustisen analyysin tekemiseen. Opasta voi k‰ytt‰‰
opetuksen tukena tai itseopiskelussa. Toistaiseksi se on viel‰ kovin
keskener‰inen, ja sit‰ tullaan muokkaamaan jatkuvasti viel‰ pitk‰‰n.
Virheit‰kin on varmasti paljon, joten luethan opasta pikkuisen l‰pi
sormien\ldots{}

Tarkoitus ei ole tietenk‰‰n korvata Praat-ohjelman omaa laajaa manuaalia
\ref{sub:Praatin-sisaanrakennettu-manuaali}, joka on aina parhaiten
ajan tasalla, koska se muuttuu ja t‰ydentyy eri ohjelmaversioiden
mukana. Jollei t‰st‰ oppaasta ole sinulle apua, katso myˆs mit‰ muita
tietol‰hteit‰ verkosta lˆytyy puheen analyysin avuksi. 

P‰‰asiallisena l‰hteen‰ t‰m‰n suomenkielisen oppaan tekemisess‰ on
k‰ytetty Praat-ohjelman sis‰‰nrakennettua englanninkielist‰ manuaalia
\ref{sub:Praatin-sisaanrakennettu-manuaali}, josta eri toimintojen
kuvaukset on vapaasti k‰‰nnetty ja muokattu. Kunnia Praat-ohjelmaan
ja eri analyysialgoritmeihin liittyv‰st‰ asiatekstist‰ kuuluukin Paul
Boersmalle ja David Weeninkille, joiden k‰sialaa koko Praat manuaaleineen
on. Muut t‰ss‰ oppaassa k‰ytetyt l‰hteet mainitaan asianomaisissa
kohdissa erikseen.

Olen itse lis‰nnyt oppaan eri kohtiin jonkin verran taustatietoa puheen
analyysista, jotta eri toimintojen tarkoitus selkeytyisi myˆs itseopiskelijalle.
Otan vastuun kaikista virheist‰.

T‰t‰ opasta koskevat kommentit saa ja kannattaa l‰hett‰‰ suoraan allekirjoittaneelle:\\


\emph{Mietta Lennes}

\emph{Puhetieteiden laitos}

\emph{Helsingin yliopisto}

\emph{mietta.lennes@helsinki.fi}

\emph{http://www.helsinki.fi/people/mietta.lennes/}


\chapter{Praat-ohjelman esittely}


\section{\label{sec:Mika-on-Praat?}Mik‰ on Praat? }

Praat on ilmainen ja eritt‰in monipuolinen puheanalyysiohjelma, joka
toimii useimmissa laitteistoissa ja k‰yttˆj‰rjestelmiss‰.


\section{\label{sec:Mita-Praatilla-voi-tehda}Mit‰ Praatilla voi tehd‰?}

Praatilla voi

\begin{itemize}
\item kuunnella pitki‰kin ‰‰nitiedostoja ja niiden osia nopeasti
\item tarkastella ‰‰nitiedoston aaltomuotoa ja sen erilaisia akustisia kuvauksia
\item muokata ‰‰nitiedostoja
\item nimikoida (annotoida) ‰‰nitiedostoja (ks. \ref{sec:Nimikointi})
\item tehd‰ puhen‰ytteist‰ kestomittauksia (kunhan mitattavat yksikˆt on
rajattu esim. nimikoimalla, ks. \ref{sec:Nimikointi}) 
\item tehd‰ puhen‰ytteist‰ akustisia analyyseja (esim. perustaajuus \ref{sub:F0--eli-perustaajuusanalyysi},
spektrianalyysit \ref{sub:Spektrit}, formantit \ref{sub:Formanttianalyysi-(esim.-vokaalien},
jitter, shimmer jne.)
\item analysoida eritt‰in laajoja puheaineistoja puoliautomaattisesti ja
laajentaa Praatin k‰yttˆmahdollisuuksia helposti opittavan skriptauskielen
avulla (\ref{cha:Skriptaus})
\item piirt‰‰ korkealaatuista grafiikkaa (EPS) julkaisuja varten
\item tehd‰ akustisten analyysien tuloksista erilaisia tilastoanalyyseja
\item muokata puhen‰ytteen perustaajuutta ja kestoja uudelleensynteesimenetelm‰n
avulla (ei toistaiseksi t‰ss‰ oppaassa; ks. Praatin sis‰inen manuaali
\ref{sub:Praatin-sisaanrakennettu-manuaali})
\item rakentaa yksinkertaisia kuuntelukokeita
\item tehd‰ artikulaatiopuhesynteesi‰ tai puhesynteesi‰ perustaajuuden,
formanttien ja intensiteetin perusteella (ei toistaiseksi t‰ss‰ oppaassa;
ks. Praatin sis‰inen manuaali \ref{sub:Praatin-sisaanrakennettu-manuaali})
\item k‰ytt‰‰ keinotekoisia hermoverkkoja
\item ‰‰nitt‰‰; tosin ‰‰nitystoiminto ei ole viel‰ kovin hienostunut, ja
‰‰nitys tai ‰‰nitteen digitointi kannattaakin toistaiseksi tehd‰ jollakin
kaupallisella ‰‰nenk‰sittelyohjelmalla (esim. \emph{SoundForge}, \emph{WaveLab},
\emph{CoolEdit}, \emph{SoundEdit} tms.)
\item ja paljon muuta: Praatin ominaisuudet lis‰‰ntyv‰t l‰hes jatkuvasti.
\end{itemize}

\section{\label{sec:Mita-Praatilla-ei-voi-tehda}Mit‰ Praatilla ei voi tehd‰?}

Praatilla ei voi 

\begin{itemize}
\item nimikoida (annotoida) videotiedostoja
\item saada akustisista analyyseista kiistattomia tuloksia ymm‰rt‰m‰tt‰
analyysien toimintaa
\item tehd‰ automaattista segmentointia puhen‰ytteest‰\ldots{}
\item tunnistaa puhetta\ldots{}
\item saada kaikkea heti harjoittelematta yht‰‰n\ldots{}
\end{itemize}

\section{\label{sec:Minkalaista-puheaineistoa-voin}Mink‰laista puheaineistoa
voin k‰sitell‰ Praatilla?}

\label{sec:aanitiedostoformaatit}Praatiin voi t‰ll‰ hetkell‰ avata
k‰sitelt‰v‰ksi ‰‰nitiedostoja\index{‰‰nitiedostoformaatit}, jotka
ovat jossakin seuraavista formaateista:

\begin{itemize}
\item AIFF\index{AIFF}
\item AIFC\index{AIFC}
\item WAV\index{WAV}
\item NeXT /Sun\index{NeXT/Sun} (.au-p‰‰tteiset tiedostot)
\item NIST\index{NIST}
\end{itemize}
Jos voit valita ‰‰nitiedostojen formaatin, k‰yt‰ AIFFia tai (tavallista,
pakkaamatonta) WAVia.

Esimerkiksi MP3-tiedostoja\index{MP3-tiedostot} ei voi Praatilla
k‰ytt‰‰, koska MP3 on tekij‰noikeussuojattu ‰‰nitiedostomuoto ---
Praat on pyritty pit‰m‰‰n mahdollisimman ei-kaupallisena alusta loppuun.%
\footnote{Sit‰paitsi MP3 on kompressoitu ‰‰nitiedostomuoto, joka on tarkoitettu
l‰hinn‰ musiikin kuunteluun. Kompressio tarkoittaa, ett‰ alkuper‰isest‰
pakkaamattomasta digitaalisesta ‰‰nisignaalista j‰tet‰‰n pois niin
paljon informaatiota kuin kuulonvaraisen laadun kannalta on mahdollista,
jotta ‰‰nitiedosto mahtuisi pienemp‰‰n tilaan. MP3:n k‰yttˆ‰ ei siksi
miss‰‰n tapauksessa suositella akustisten analyysien tekemiseen. 

Huomaa, ett‰ myˆs mm. MiniDisc-laite kompressoi ‰‰nt‰, mik‰ rajoittaa
MD:ll‰ tehtyjen ‰‰nitteiden k‰yttˆ‰ akustisessa tutkimuksessa.%
} Joskus kohdalle voi sattua myˆs tietynlaisia pakattuja WAV-tiedostoja,
joita Praatilla ei pysty avaamaan. Tavalliset WAVit aukeavat ongelmitta. 

Videotiedostoja\index{videotiedostot} Praatilla ei voi toistaiseksi
k‰sitell‰, joten alkuper‰isest‰ videotiedostosta on erotettava ‰‰niraita
omaksi ‰‰nitiedostokseen.

Praat sin‰ns‰ ei aseta esivaatimuksia ‰‰nitteen laadulle. Mit‰ vaativampia
akustisia analyyseja aiot ‰‰niaineistostasi tehd‰, sit‰ tarkempaa
huomiota kannattaa kiinnitt‰‰ ‰‰nityksen tekniseen laatuun. Vaikka
lopulta tekisit aineistosta vain litteraation (ks. \ref{sec:Nimikointi}),
tyˆ on paljon helpompaa, jos ‰‰nite on hyv‰laatuinen ja suhteellisen
h‰lytˆn, eik‰ samassa ‰‰nisignaalissa ole useiden puhujien p‰‰llekk‰ispuhuntaa.
Mik‰li tutkit ‰‰nteellisen tason ilmiˆit‰ ja/tai aiot tehd‰ esimerkiksi
formanttianalyyseja (ks. \ref{sub:Formanttianalyysi-(esim.-vokaalien}),
laatuvaatimukset ovat viel‰kin korkeammat. Katso lis‰‰ ohjeita ‰‰nityksen
tekemiseen ja ‰‰nen digitointiin Helsingin yliopiston puhetieteiden
laitoksen laiteohjeista, \url{http://www.helsinki.fi/puhetieteet/atk/}.


\chapter{\label{sec:Mista-Praat-ohjelman-saa?}Asentaminen}

Praatin pystyy yleens‰ helposti asentamaan miltei mille tahansa koneelle,
sill‰ itse ohjelma sijaitsee vain yhdess‰ tiedostossa, jonka sijainnilla
ei ole v‰li‰. Praat ei siis ''sekaannu'' koneen k‰yttˆj‰rjestelm‰‰n
mill‰‰n tavalla. Praat tuottaa kullakin koneella vain pienen asetustiedoston,
joka ei ole v‰ltt‰m‰tˆn ohjelman toiminnalle. Praatin asetukset pysyv‰t
kuitenkin tietyll‰ koneella aina samanlaisina.

Praat-ohjelmatiedosto on myˆs pienikokoinen: jopa pakkaamaton ts.
heti toimintavalmis Praatin Windows-versio mahtuu tavalliselle 1,44
M levykkeelle.


\section{\label{sub:Praatin-asentaminen-Windows-koneeseen}Praatin asentaminen
Windows-koneeseen}

\begin{enumerate}
\item Mene\index{asentaminen Windowsiin} Praat-ohjelman kotisivulle \url{http://www.praat.org/}
\item Klikkaa vasemmasta yl‰nurkasta kohtaa \char`\"{}Windows\char`\"{},
niin p‰‰set lataussivulle josta saat Praatin uusimman Windows-version.
\item Klikkaa kerran sivun ensimm‰ist‰ linkki‰ (esim. \emph{praat4112\_winsit.exe}).
Koneen pit‰isi nyt kysy‰, haluatko ladata tiedoston koneellesi. Vastaa
OK ja sijoita tiedosto johonkin helppoon paikkaan jonka muistat, esim.
tyˆpˆyd‰lle tms. Kun tiedosto on latautunut kokonaan, voit sulkea
tai piilottaa www-selaimen.
\item Avaa sitten Windows Explorer (tiedostonhallinta) ja etsi lataamasi
tiedosto (esim. \emph{praat4112\_winsit.exe}), tai etsi se suoraan
tyˆpˆyd‰lt‰ jos latasit sen sinne. Kaksoisklikkaa tiedoston nime‰.
Sen pit‰isi automaattisesti alkaa purkaa itse‰‰n, ja hetken p‰‰st‰
samaan hakemistoon ilmestyy hassu vaaleanpunainen kuvake 'Praat'.
T‰m‰ uusi kuvake on nyt toimiva Praat-ohjelma. Varmista, ett‰ ohjelma
toimii: kaksoisn‰p‰yt‰ kuvaketta ja Praatin pit‰isi k‰ynnisty‰.
\item Voit poistaa alkuper‰isen asennustiedoston (esim. \emph{praat4112\_winsit.exe})
--- sit‰ ei en‰‰ tarvita.
\item Jos koneellasi oli vanhempi Praat-versio, se kannattaa yleens‰ poistaa
sekaannusten v‰ltt‰miseksi siin‰ tapauksessa, ett‰ olet koneen ainoa
k‰ytt‰j‰ ja tied‰t, ettet tarvitse vanhoja ohjelmaversioita. (Vanha
versio voi olla tarpeen, jos k‰yt‰t ahkerasti Praat-skriptej‰ (ks.
\ref{cha:Skriptaus}), mutta silloinkin hyvin harvoissa tapauksissa.)
Poista kuitenkin vanha Praat vasta, kun olet tarkistanut, ett‰ uusi
Praat-versio varmasti toimii koneessasi. \\
\label{Praatin-poistaminen-Win}Praat poistetaan siirt‰m‰ll‰ vanhan
Praatin kuvake roskakoriin, tai n‰p‰ytt‰m‰ll‰ hiiren oikeaa painiketta
vanhan Praat-tiedoston p‰‰ll‰ ja valitsemalla \textbf{Delete}.
\item Nyt voit siirt‰‰ uuden Praat-kuvakkeen minne haluat, vaikka suoraan
tyˆpˆyd‰lle jos se on mielest‰si k‰tevin paikka. Hyv‰ valinta on myˆs
esim. \emph{C:\textbackslash{}Program Files\textbackslash{}} -hakemisto.
\item Praat aukeaa (melkein t‰sm‰lleen samann‰kˆisen‰ kuin Unixissa) kun
kaksoisn‰p‰yt‰t sen kuvaketta.
\item Voit koska tahansa hakea verkosta Praatin uusimman version ja vaihtaa
vanhan siihen. Poista ensin vanha Praat-ohjelmatiedosto ja pura sitten
uusi versio samaan paikkaan kuten edell‰. Jos haluat s‰ilytt‰‰ vanhemman
Praat-version, muuta Praat-tiedoston nime‰.
\item Jos tarvitset Praatissa foneettisia merkkej‰ (IPA-aakkosia), kannattaa
Windowsiin asentaa viel‰ ilmaiset \textbf{SIL IPA-kirjasimet}. Linkki
ja asennusohjeet lˆytyv‰t Praatin Windows-version lataussivulta. 
\end{enumerate}

\section{\label{sub:Praatin-asentaminen-Unix-koneeseen}Praatin asentaminen
Unix- tai Linux-koneeseen}

\begin{enumerate}
\item Mene\index{asentaminen Unixiin/Linuxiin} Praat-ohjelman kotisivulle
\url{http://www.praat.org/}
\item Jos k‰yt‰t Linuxia, klikkaa vasemmasta yl‰nurkasta kohtaa \char`\"{}\textbf{Linux}\char`\"{},
niin p‰‰set lataussivulle josta saat Praatin uusimman Linux-version.
Jos taas tarvitset Praatin version Unixiin, selvit‰ mik‰ Unix-versio
sinulla on k‰ytˆss‰ ja klikkaa vastaavaa linkki‰. Praatista on \textbf{SGI}-versio
(Silicon Graphics IRIX: Indigo, Indy, Onyx, O2 jne.), \textbf{SPARC
Solaris} -versio, ja \textbf{HPUX}-versio (Hewlett Packard Unix).
\item Klikkaa kerran sivun alkupuolella olevaa linkki‰ (esim. \emph{praat4109\_linux\_dynamic.tar.gz}).%
\footnote{Linux-version kohdalla riippuu hieman k‰ytt‰m‰st‰si Linux-jakelusta
(distribuutiosta), pit‰‰kˆ sinun ladata staattinen (\emph{static})
vai dynaaminen (\emph{dynamic}) Praat-versio. On j‰rkevint‰ kokeilla
molempia --- ehk‰ vain toinen Praat-versio toimii laitteistossasi
t‰ydellisesti.%
} Koneen pit‰isi nyt kysy‰, haluatko ladata tiedoston koneellesi. Vastaa
OK ja sijoita tiedosto johonkin helppoon paikkaan jonka muistat, esim.
kotihakemistojuureen tms. 
\item Siirry komentorivill‰ hakemistoon, johon latasit Praat-tiedoston (komento
\textbf{cd} \emph{hakemist}o\emph{n\_nimi}). Tarkista komennolla \emph{}\textbf{ls}
ett‰ tiedosto on latautunut. Tiedoston p‰‰te \emph{.tar.gz} osoittaa,
ett‰ tiedosto on pakattu. Pura paketti komennoilla\\
\textbf{gunzip} \emph{praat4109\_linux\_dynamic.tar.gz}\\
\textbf{tar -xvf} \emph{praat4109\_linux\_dynamic.tar}\\
Muuta tiedoston nime‰ sen mukaan, mink‰ Praat-tiedoston latasit. Paketin
purkaminen saattaa kest‰‰ hetken.%
\footnote{Kunhan komennon suoritus on valmis, ilmestyy komentoriville tuttu
kehote --- odota rauhassa!%
}
\item Kirjoita j‰lleen \textbf{ls}. Hakemistossa pit‰isi nyt n‰ky‰ tiedosto
\textbf{praat} --- t‰m‰ on toimiva Praat-ohjelma. Kokeile, ett‰ se
varmasti toimii kirjoittamalla \textbf{}\\
\textbf{./praat}\\
Jos kaikki oli hyvin ja Praat k‰ynnistyi, voit siirt‰‰ \textbf{praat}-tiedoston
haluamaasi paikkaan. Usein k‰ytetty hakemisto on esim. kotihakemiston
alle tehty \textbf{bin}-hakemisto. Jollet n‰e bin-hakemistoa kirjoittamalla
kotihakemistossasi \textbf{ls}, voit luoda sen kotihakemistossa ollessasi
komennolla \\
\textbf{mkdir bin}\\
Ja Praat-ohjelman saat siirretty‰ bin-hakemistoon komentamalla kotihakemistossa\\
\textbf{mv praat bin/}
\item Praat-paketista j‰ljelle j‰‰neen .tar-p‰‰tteisen tiedoston voit poistaa
--- sit‰ ei en‰‰ tarvita:\\
\textbf{rm} \emph{praat4109\_linux\_dynamic.tar}
\item Voit koska tahansa hakea verkosta Praatin uusimman version ja vaihtaa
vanhan siihen. Poista ensin vanha Praat-ohjelmatiedosto (komento \textbf{rm},
jos sinulla on tiedostoon kirjoitusoikeus ko. laitteistossa) ja pura
sitten uusi versio samaan paikkaan kuten edell‰. Jos haluat s‰ilytt‰‰
myˆs vanhemman Praat-version, muuta Praat-tiedoston nime‰.
\end{enumerate}

\section{\label{sec:laitevaatimukset}Laitteistovaatimukset }

Voit k‰ytt‰‰ Praatia melkein mill‰ tietokoneella tahansa! Praat-ohjelmasta
yll‰pidet‰‰n versioita (uudempiin) Windows-k‰yttˆj‰rjestelmiin, Macintoshiin
(eri versiot MacOS X:lle ja vanhemmille Maceille), parille kaupalliselle
Unixille sek‰ Linuxille.%
\footnote{Myˆs Praatin l‰hdekoodi\index{l\"ahdekoodi} on avoin: voit halutessasi
ladata sen verkosta ja k‰‰nt‰‰ siit‰ oman version. Praat on kirjoitettu
C-kielell‰, jonka osaajat voivat kirjoittaa Praatiin omia laajennuksia.
Kannattaa tarjota aikaansaannoksiaan myˆs julkiseen Praat-versioon,
jos on valmis antamaan ne ilmaiseksi vapaaseen jakeluun.%
} 

Jos sinulla on PC-kone, voit kuunnella Praatilla ‰‰nt‰ vain jos koneessasi
on toimiva ‰‰nikortti. 

\emph{Huom.} Mik‰li haluat k‰ytt‰‰ Praatia ‰‰nitt‰miseen tai ‰‰nen
digitointiin (siirtoon esim. tavalliselta kasetilta tietokoneeseen),
kannattaa tietokoneen ‰‰nikortin ominaisuuksiin kiinnitt‰‰ tarkempaa
huomiota. Valmiiden tietokonepakettien mukana tulevat ‰‰nikortit eiv‰t
useinkaan ole korkeatasoisen puhe‰‰nityksen tekemiseen riitt‰vi‰.
Kun puhe on kerran saatu tietokoneelle ja ‰‰nitiedostoiksi, ‰‰nikortilla
yms. ‰‰niominaisuuksilla ei en‰‰ ole suurta merkityst‰. 


\chapter{\label{cha:Oppaat-ja-tuki}Oppaat ja k‰ytˆn tuki}


\section{Praat-ohjelman virallinen kotisivu}

Tarkista, ett‰ sinulla on Praat-ohjelman uusin versio koneessasi!
Uusimman Praatin voit hakea osoitteesta

\begin{quote}
\url{http://www.praat.org/}
\end{quote}
Katso Praatin asennusohjeet, \ref{sec:Mista-Praat-ohjelman-saa?}.


\section{T‰m‰ opas}

T‰m‰n Praat-oppaan uusin versio lˆytyy osoitteesta

\begin{quote}
\url{http://www.helsinki.fi/puhetieteet/atk/praat/}
\end{quote}

\section{\label{sub:Praatin-sisaanrakennettu-manuaali}Praatin sis‰‰nrakennettu
manuaali (Help) }

Praat-ohjelman mukana on (A4-sivuina laskettuna) miltei tuhatsivuinen
manuaali\index{manuaali}, jossa on ohjeita eri aiheista ja kuvaukset
eri laskenta-algoritmien toiminnasta. Manuaalia tuskin kannattaa tulostaa
paperille, koska se on niin laaja ja koska se muuttuu uusien ohjelmaversioiden
mukana. On j‰rkev‰‰ opetella k‰ytt‰m‰‰n manuaalia suoraan ohjelman
sis‰lt‰, koska sielt‰ usein lˆytyy viimeist‰‰n pienen hakemisen j‰lkeen
tarvittava tieto.

Jokaisen Praatissa aukeavan ikkunan jossakin kohdassa on valikko tai
painike \textbf{Help}\index{Help}, jota k‰ytt‰m‰ll‰ p‰‰set lukemaan
manuaalia. Valikoissa on yleens‰ ensimm‰isen‰ juuri kyseist‰ ikkunaa
koskeva Help-sivu. Erityyppisille objekteille on myˆs objektilistassa
oma Help-painike.

Objects-ikkunan\index{etsiminen manuaalista}\index{haku manuaalista}
\textbf{Help}-valikosta voit valita kohdan \textbf{Search manual\ldots{}}
Sen avulla voit etsi‰ manuaalisivuista tietty‰ hakusanaa. Samaa hakutoimintoa
voit k‰ytt‰‰ mink‰ tahansa manuaalisivun yl‰reunasta, jossa on rivi
hakusanalle ja painike \textbf{Search}, jolla haku aloitetaan. Jos
ensi yrityksell‰ ei lˆydy mit‰‰n, keksi muita vastaavia hakusanoja
(joskus sivuja ei ole indeksoitu kovin huolellisesti, joten esim.
hakusana \char`\"{}LPC\char`\"{} toimii, mutta \char`\"{}lpc\char`\"{}
ei.)

%
\begin{figure}
\includegraphics[%
  scale=0.7]{/home/lennes/praat-opas/kuvat/search_manual.jpg}


\caption{Praatin sis‰isest‰ manuaalista voi hakea tiettyj‰ kohtia hakusanalla
esimerkiksi n‰in.}
\end{figure}


Jos haluaisit opetella kirjoittamaan itse Praat-skriptej‰, joilla
voit esim. analysoida laajoja aineistoja kerralla, valitse Objects-ikkunan
\textbf{Help}-valikosta kohta \textbf{Scripting tutorial}\index{Scripting tutorial}\index{skriptausmanuaali}
(lue myˆs t‰st‰ oppaasta \ref{cha:Skriptaus}.)


\section{\label{sub:Keskusteluryhma}Keskusteluryhm‰}

Praatin k‰ytt‰jien keskusteluryhm‰\index{keskusteluryhm‰}\index{uutisryhm‰}\index{postituslista}
verkossa:

\begin{quote}
\url{http://uk.groups.yahoo.com/group/praat-users/}
\end{quote}
Pari yst‰v‰llismielist‰ ohjetta keskusteluryhm‰n k‰yttˆˆn:

\begin{itemize}
\item Auta muita, niin hekin auttavat sinua.
\item Pois turha ujous: ihmiset auttavat yleens‰ mielell‰‰n, ja vastaus
saattaa internetin kautta tulla yll‰tt‰v‰n nopeasti!
\item ƒl‰ kuitenkaan l‰het‰ kysymyksi‰ keskusteluryhm‰‰n, jollet ole ensin
edes yritt‰nyt etsi‰ tarvitsemaasi tietoa Praatin sis‰‰nrakennetusta
manuaalista. Jotkut Praatin k‰ytt‰j‰t nimitt‰in tilaavat keskusteluryhm‰n
viestit suoraan omaan s‰hkˆpostiinsa, ja on sen vuoksi ep‰kohteliasta
vaivata kenties satoja ihmisi‰ kysymyksell‰, johon saattaa jo olla
olemassa valmis ohje (eli jos kyseess‰ on FAQ\index{FAQ} eli Frequently
Asked Question\index{Frequently Asked Question}).
\item Oma-aloitteisuus ja viitseli‰isyys yleens‰ palkitaan - kysy neuvoa
vasta kun tied‰t joutuneesi umpikujaan. ƒl‰ siis l‰het‰ keskusteluryhm‰‰n
viesti‰, jossa suoraan tai ep‰suorasti toivot jonkun kirjoittavan
sinulle valmiiksi skriptin, joka tekee niin-ja-niin-ja-niin. (Etsi
mieluummin itse verkosta jonkun kirjoittama skripti, jota ehk‰ voisit
yritt‰‰ muutella omiin tarkoituksiisi. Ensi h‰t‰‰n kannattaa lukaista
v‰h‰n Praatin sis‰isen manuaalin kohtaa \textbf{Scripting tutorial\ldots{}})
\item Muistathan, ett‰ Praatia yll‰pidet‰‰n vapaaehtoisvoimin.
\end{itemize}

\section{Muuta apua puheen analyysiin }

Praat-skriptej‰\index{skriptit} lˆytyy osoitteesta 

\begin{quote}
http://www.helsinki.fi/\textasciitilde{}lennes/praat-scripts/
\end{quote}

\subsection{\label{sub:Akustiikkaa}Akustiikkaa}

\begin{itemize}
\item TKK:n kurssi \textbf{Akustiikan perusteet I} (lˆytyy myˆs luentokalvot!):
\underbar{\url{http://www.acoustics.hut.fi/teaching/S-89.101/}}
\item Audiosignaalink‰sittelyn englanti-suomi-sanasto (koonnut Vesa V‰lim‰ki):
\underbar{\url{http://www.acoustics.hut.fi/~vpv/ask-sanasto.htm}}
\item Fysiikkaan (ja akustiikkaan) liittyvi‰ Java-appletteja (B.Surendranath
Reddy): \underbar{\url{http://surendranath.tripod.com/Applets.html}}
(ks. erityisesti kohdat Waves ja Oscillations)
\end{itemize}

\chapter{Praatin k‰yttˆ}


\section{\label{sub:Praat-ohjelman-kaynnistaminen}Praat-ohjelman k‰ynnist‰minen}


\subsection{K‰ynnist‰minen Windows- ja Macintosh-koneissa}

Etsi Praat-ohjelman kuvake ja kaksoisn‰p‰yt‰\index{k‰ynnist‰minen (Win/Mac)}
sit‰. Jos et tied‰, onko koneessa Praat ja miss‰ se on, k‰yt‰ hakutoimintoa
(\textbf{Find\ldots{}}), joka lˆytyy Windowsissa Program Menusta
(vasemman alanurkan valikko) ja Maceissa tyˆpˆyd‰ll‰ (\emph{Finder}%
\footnote{Macintosh-tietokoneiden yleisi‰ k‰yttˆohjeita lˆyd‰t verkko-oppaasta
\citet{Lennes}.%
}) ollessasi \textbf{Edit}-valikosta. 

Jos koneessasi ei ole Praatia, katso Praat-ohjelman asentaminen \ref{sec:Mista-Praat-ohjelman-saa?}.


\subsection{K‰ynnist‰minen Unix- ja Linux-koneissa}

Jos Praat-ohjelma on asennettu paikkaan, joka on m‰‰ritelty ns. oletuspolullasi
(PATH), voit k‰ynnist‰‰\index{k‰ynnist‰minen (Unix/Linux)} sen kirjoittamalla
komentorivill‰ (konsoli-ikkunassa) yksinkertaisesti \textbf{praat}.

Jos yll‰ mainittu tapa ei toimi ja arvelet, ett‰ Praat on kuitenkin
asennettu jonnekin p‰in laitteistoa, kirjoita joko \textbf{whereis
praat} tai \textbf{locate praat}. Jompikumpi komennoista kertoo sinulle
Praat-ohjelman tarkan polun tai polut ko. laitteistossa. Kirjoita
tulokseksi saamasi hakemistopolku komentorivill‰ kokonaisuudessaan,
niin Praat k‰ynnistyy; esim. \textbf{/opt/bin/csl/praat}

Jos koneessasi ei n‰yt‰ olevan Praatia lainkaan, katso Praat-ohjelman
asentaminen \ref{sec:Mista-Praat-ohjelman-saa?}.


\section{\label{sub:Praat-ohjelman-ulkoasusta}Praat-ohjelman ulkoasu }

Kun avaat Praatin, n‰kyviin tulee kaksi ikkunaa: vasemmalla puolella
n‰yttˆ‰ on ns. \textbf{objektilista\index{objektilista}} l. \textbf{objekti-ikkuna\index{objekti-ikkuna}}
(\emph{Object window}) ja oikealla \textbf{piirtoikkuna\index{piirtoikkuna}\index{Picture-ikkuna}}
(\emph{Picture window}). Aina kun Praat-ohjelma on k‰ynniss‰, objektilistakin
on auki%
\footnote{Praatia voi tosin k‰ytt‰‰ myˆs kutsumalla Praat-skriptej‰ komentorivilt‰
tai toisen ohjelman koodista, jolloin Praat-ohjelman graafinen ymp‰ristˆ
ei tule lainkaan n‰kyviin. Praat-skripteist‰ kerrotaan lis‰‰ t‰m‰n
oppaan loppupuolella (ks. luku \ref{cha:Skriptaus}).%
}. Piirtoikkunan voit sen sijaan halutessasi sulkeakin v‰lill‰ ---
sit‰ tarvitset vain piirt‰ess‰si kuvia siirrett‰v‰ksi muihin ohjelmiin,
jolloin piirtoikkuna tulee automaattisesti uudelleen esiin.

Praat n‰ytt‰‰ suunnilleen samalta riippumatta siit‰, miss‰ laitteistossa
sit‰ k‰yt‰t. Poikkeuksena on, ett‰ Macintosheissa objektilistan yl‰reunassa
oleva valikko n‰kyykin Macin valikkopalkissa aivan n‰ytˆn yl‰reunassa
eik‰ itse objekti-ikkunan yl‰laidassa. Joitakin hyvin pieni‰ k‰yttˆj‰rjestelm‰kohtaisia
eroja on myˆs valikkojen sis‰llˆss‰. %
\begin{figure}
\includegraphics{/home/lennes/praat-opas/kuvat/kaynnistyskuva.jpg}


\caption{\label{fig:kaynnistys}Praat-ohjelma k‰ynnistyy.}
\end{figure}



\subsection{Praat-ohjelman p‰ivitykset}

Praat-ohjelmaan tulee uusia p‰ivityksi‰ jopa kerran tai kahdesti kuukaudessa.
Yleens‰ p‰ivityksen myˆt‰ saadaan k‰yttˆˆn uusia toimintoja tai korjataan
edellisten ohjelmaversioiden vikoja. Joskus harvoin valikkokomennot
tai niiden sijainti voivat v‰h‰n muuttua ohjelmaversiosta toiseen.
Kovin laajoja muutoksia Praatin k‰yttˆˆn ei tehd‰, ja pienempi‰kin
muutoksia toteutetaan yleens‰ vain useiden k‰ytt‰jien hyvin perustellusta
toivomuksesta. Tavallisesti on hyv‰ p‰ivitt‰‰ oman koneensa ohjelmaversio
s‰‰nnˆllisesti uudempaan (ks. asennusohjeet kohdasta \ref{sec:Mista-Praat-ohjelman-saa?}).


\subsection{\label{sub:Objektilista}Objektilista}

Kaikki Praat-ohjelmassa k‰sitelt‰v‰ aineisto n‰kyy objekti-ikkunassa
(ks. kuva \ref{fig:objektilista}).


\subsubsection{\label{par:Objektien-valitseminen}Objektien valitseminen}

Objekti valitaan\index{objektin valitseminen}\index{objektin aktivointi}\index{aktivointi}\index{valitseminen}
(\emph{select}\index{select}) n‰p‰ytt‰m‰ll‰ sit‰ kerran hiirell‰,
jolloin aktivoitu l. valittu objekti tummenee (ks. kuva \ref{fig:objektilista}).

Useampia, listalla per‰kk‰isi‰ objekteja voit valita n‰p‰ytt‰m‰ll‰
ensin yht‰ objektia hiirell‰ ja pit‰m‰ll‰ sitten \emph{vaihton‰pp‰imen}
(\emph{Shift}) pohjassa, kun n‰p‰yt‰t toista objektia.

Jos haluat valita useampia objekteja niin, ett‰ per‰kk‰isten objektien
v‰lille j‰‰ ei-aktiivisia objekteja, pid‰ \emph{Control}-n‰pp‰in pohjassa
ja napsauttele samalla yksitt‰isi‰ objekteja. Toistuva n‰p‰yttely
Control-n‰pp‰imen kanssa kytkee objektin vuorotellen aktiiviseksi
ja ei-aktiiviseksi.%
\begin{figure}
\includegraphics{/home/lennes/praat-opas/kuvat/objektit.jpg}


\caption{\label{fig:objektilista}Objektilistassa olevia objekteja voi valita
eli aktivoida hiirell‰. Objektin kohdalla lukee ensin objektin tyyppi
(esim. Sound tai Pitch) ja sen j‰lkeen objektin nimi, jota k‰ytt‰j‰
voi muuttaa. Objekti-ikkunan oikeassa reunassa olevan dynaamisen valikon
sis‰ltˆ muuttuu sen mukaan, mink‰ tyyppinen objekti on valittuna.}
\end{figure}



\subsubsection{Objektien hallintapainikkeet}

Objektilistan alareunassa on lis‰ksi muutama painike. \textbf{Copy\ldots{}}
\index{objektin kopioiminen}-painikkeella voit tehd‰ kopion listalta
valitusta objektista (komento kysyy nimen uudelle objektille). \textbf{Info}\index{objektin tiedot}-painike
n‰ytt‰‰ joitakin tietoja aktiivisesta objektista.

Alimpana ja punaisella n‰kyy \textbf{Remove}\index{objektin poistaminen objektilistasta}-painike,
joka \textbf{\emph{poistaa kaikki sill‰ hetkell‰ valittuna olevat
objektit mit‰‰n kyselem‰tt‰.}} Ole siis varovainen t‰m‰n painikkeen
kanssa, sill‰ jos et ole tallentanut poistettavia objekteja, ne h‰vi‰v‰t
i‰ksi!


\subsubsection{\label{par:Kiintea-valikko-objektilistassa}Kiinte‰ valikko (fixed
menu)}

Objektilistaan liittyv‰ kiinte‰ valikko\index{kiinte\"a valikko objektilistassa}
n‰kyy objektilistan yl‰reunassa (tai Macissa n‰ytˆn yl‰reunan valikkopalkissa,
ks. Mac-ohjeita esim.\citet{Lennes}).


\subsubsection{\label{par:Dynaaminen-valikko-(dynamic}Dynaaminen valikko (dynamic
menu)}

Dynaamisen valikon\index{dynaaminen valikko} sis‰ltˆ muuttuu sen
mukaan, mink‰ tyyppinen objekti on valittuna (aktiivisena\index{aktiivinen objekti},
tummennettuna) objektilistassa. Jos listassa ei ole yht‰‰n objektia
tai mik‰‰n objekteista ei ole valittuna, dynaamisen valikon alue on
kokonaan tyhj‰.


\subsection{\label{sub:Piirtoikkuna}Piirtoikkuna}

Piirtoikkunaa\index{piirtoikkuna}\index{Picture-ikkuna} tarvitaan
silloin, kun halutaan piirt‰‰ Praatilla kuvia siirrett‰v‰ksi muihin
ohjelmiin. Piirtoikkunaan tehty kuva voidaan tallentaa esimerkiksi
korkealaatuisena EPS-grafiikkatiedostona tai se voidaan siirt‰‰ piirtoikkunasta
leikepˆyd‰lle ja ''liimata'' sellaisenaan vaikkapa tekstink‰sittelydokumenttiin.
Praatilla voidaan piirt‰‰ kuvia erilaisista akustisista analyyseista
tai numeerisesta datasta.

Kuvan piirt‰minen tapahtuu periaatteessa aina jonkin objektilistaan
(ks. \ref{sub:Objektilista}) luodun objektin pohjalta: valitse objektilistasta
objekti, josta kuva piirret‰‰n, ja valitse dynaamisesta valikosta
(\ref{par:Dynaaminen-valikko-(dynamic}) haluamasi Draw- tai Paint-komento.
Valitusta objektista riippuen tarjolla voi olla useita erilaisia Draw-komentoja.
Komennon tuottama kuva piirtyy ja skaalautuu piirtoikkunasta valittuna
olevan piirtoalueen (\emph{Viewport}) mukaisesti. Piirtoikkunan sis‰ll‰
kuvan koostamista voidaan jatkaa lis‰‰m‰ll‰ esim. teksti‰ piirtoalueen
eri kohtiin. Lis‰‰ kuvin piirt‰misest‰ kerrotaan luvussa \ref{sec:Kuvien-luominen}.


\section{Tiedostojen hallinta}


\subsection{\label{sub:Tiedostojen-avaaminen-Praatissa}Tiedostojen avaaminen
Praatissa}

Kaikki Praat-ohjelman tunnistamat tiedostomuodot avataan periaatteessa
samalla tavalla: valitsemalla objekti-ikkunan \textbf{Read}-valikosta
\textbf{Read from file...} Praatissa ei ole v‰li‰ sill‰, mik‰ on avattavan
tiedoston nimen p‰‰te, sill‰ ohjelma tunnistaa automaattisesti objektin
tyypin tiedostoa lukiessaan. (Ks. kuitenkin tiedostojen nime‰misk‰yt‰nteit‰
kohdasta \ref{sub:Tiedostojen-nimeamistavat}.)

Poikkeuksena normaalista tiedostojen avaamisk‰yt‰nnˆst‰ ovat hyvin
pitk‰t ‰‰nitiedostot, jotka eiv‰t ehk‰ mahdu tietokoneen muistiin
kerralla:


\subsubsection{Eritt‰in pitk‰t ‰‰nitiedostot\index{pitk‰t \"a\"anitiedostot} (LongSound\index{LongSound})}

\textbf{\label{sub:LongSound}}Eritt‰in pitkien ‰‰nitiedostojen avaamiseen
on olemassa erikseen varakomento \textbf{Open long sound file...}
Sit‰ k‰ytett‰ess‰ ‰‰nitiedosto aukeaa objektilistaan \textbf{LongSound}-tyyppisen‰.
LongSound-objektina voidaan Praatissa k‰ytt‰‰ jopa 3 GB:n kokoisia
‰‰nitiedostoja. 

LongSound-objekteja voidaan selailla ja kuunnella LongSound-editorilla
samaan tapaan kuin Sound-objektejakin (vrt. ‰‰nieditori, \ref{sec:Aanieditori-(Sound-editor)}).
LongSound-objektin sis‰lt‰m‰‰ ‰‰nisignaalia ei kuitenkaan lueta tietokoneen
k‰yttˆmuistiin kokonaisuudessaan, vaan muistissa pidet‰‰n ainoastaan
editorin n‰ytˆll‰ oleva osa. T‰m‰n vuoksi LongSound-objektia ei voida
analysoida kokonaisena, eik‰ sille muutenkaan voida suorittaa aivan
samoja toimenpiteit‰ kuin Sound-objektille. LongSound-objektista voidaan
kuitenkin \textbf{Extract part...}-komennolla erist‰‰ pienempi‰ osia,
joita voidaan k‰sitell‰ tavallisina Sound-objekteina.


\subsection{\label{sub:Tiedostojen-tallentaminen-Praatissa}Tiedostojen tallentaminen
Praatissa}

\label{sub:Praatin-kayttamat-tiedostomuodot}Mik‰ tahansa Praat-ohjelmassa
k‰sitelt‰v‰n‰ oleva objekti voidaan tallentaa valitsemalla ensin kyseinen
objekti objektilistalta ja valitsemalla sen j‰lkeen sopiva tallennusvaihtoehto
objekti-ikkunan \textbf{Write}-valikosta.

Kaikki Praat-ohjelmassa k‰sitellyt objektityypit voidaan tallentaa
Write-valikon kautta joko tekstitiedostoina (\emph{text file}), lyhyin‰
tekstitiedostoina (\emph{short text file}) tai bin‰‰ritiedostoina
(\emph{binary file}). Monia analyysiobjekteja (esim. Pitch-objektit)
voidaan tallentaa pelk‰st‰‰n n‰ihin kolmeen tiedostomuotoon. Sen sijaan
esimerkiksi ‰‰niobjektit (Sound) voidaan lis‰ksi tallentaa useisiin
‰‰nitiedostoformaatteihin (AIFF, WAV jne., ks. \ref{sec:aanitiedostoformaatit})
ja jotkut taulukon kaltaiset objektit (esim. TableOfReal) voidaan
tallentaa raakatekstitiedostoon, jossa kunkin taulukon rivin sarakkeet
on erotettu toisistaan sarkainmerkeill‰. Viimeksimainittu muoto on
k‰tev‰, jos Praatilla k‰siteltyj‰ taulukoita halutaan siirt‰‰ esimerkiksi
Exceliin tai muihin taulukko- ja tilastolaskentaohjelmiin.


\subsubsection{\label{sub:Tiedostojen-nimeamistavat}Tiedostojen nime‰misk‰yt‰nteit‰}

Vaikka Praat-ohjelmaa k‰ytt‰ess‰ tiedostojen nimill‰ ei periaatteessa
ole v‰li‰, on hyv‰ noudattaa tietty‰ k‰yt‰ntˆ‰, jotteiv‰t erityyppiset
tiedostot menisi sekaisin. Praatissahan voi luoda esimerkiksi ‰‰niobjektista
monta analyysiobjektia, jotka ovat oletusarvoisesti samannimisi‰ kuin
‰‰niobjekti, josta ne tehtiin. Identtinen tiedostonimen alkuosa on
hyˆdyllinen, jos pit‰‰ j‰lkeenp‰in tunnistaa, mik‰ analyysitiedosto
vastaa mit‰kin ‰‰nitiedostoa. T‰t‰ voi hyˆdynt‰‰ etenkin skriptauksessa
(\ref{cha:Skriptaus}). 

Tiedostonimille on tapana antaa pisteell‰ erotettu p‰‰te tiedoston
tyypin mukaan. Esimerkiksi ‰‰nitiedostojen nimi p‰‰ttyy .wav, .aif
sen mukaan, miss‰ ‰‰niformaatissa ne tallennettiin. ƒ‰nitiedostosta
\emph{kukka.aif} tehty Pitch-objekti kannattaisi siis tallentaa nimell‰
\emph{kukka.Pitch} ja formanttianalyysi nimell‰ \emph{kukka.Formant}.
Praat-skriptitiedostotkin ovat periaatteessa tavallisia tekstitiedostoja,
mutta ne kannattaisi tallentaa vastaavilla tunnisteilla, esimerkiksi
\emph{omaSkripti.praat}, jolloin jo tiedoston nimest‰ n‰kee, ettei
kyseess‰ ole mik‰ tahansa teksti.


\chapter{\label{sec:Aanieditori-(Sound-editor)}ƒ‰nieditori (Sound editor)}

ƒ‰nieditori on Praatin ikkuna, jossa voidaan selailla tietty‰ ‰‰niobjektia,
kuunnella siit‰ eripituisia p‰tki‰ ja katsella samalla ‰‰nen aaltomuotoa
sek‰ ‰‰nest‰ laskettuja erilaisia akustisia analyyseja. 


\section{\label{sub:Aanen-kuuntelu}ƒ‰nen kuuntelu}

Objektilistalta valitun ‰‰niobjektin voi kuunnella 

\begin{itemize}
\item kokonaisuudessaan painamalla sen viereisest‰ dynaamisesta valikosta
painiketta \textbf{Play}. Jos ‰‰niobjekti on huikean pitk‰ ja haluatkin
keskeytt‰‰ kuuntelun, paina Esc-n‰pp‰int‰.
\item pienemmiss‰ p‰tkiss‰ avaamalla ‰‰nieditori-ikkunan:
\end{itemize}

\section{\label{sec:Aanieditorin-kaytto}ƒ‰nieditorin k‰yttˆ}

ƒ‰nieditorin k‰ytt‰miseksi ‰‰nitiedosto on ensin avattava Praatin
objektilistaan (\textbf{Read: Read from file...}). Kun haluttu ‰‰niobjekti
on objektilistalla aktiivisena, paina objektilistan oikeassa laidassa
n‰kyv‰st‰ dynaamisesta valikosta painiketta \textbf{Edit}, jolloin
‰‰nieditori avautuu. Editori-ikkunoita voi olla samanaikaisesti avoinna
useita myˆs samasta ‰‰niobjektista.

ƒ‰nieditorin yl‰osassa n‰kyy ‰‰nen aaltomuoto mustana k‰yr‰n‰%
\footnote{Aaltomuodon p‰‰ll‰ voi myˆs n‰ky‰ sinisi‰ pystyviivoja (Pulses), jotka
liittyv‰t perustaajuusanalyysiin. Pulssit voi kytke‰ pois p‰‰lt‰kin,
sill‰ yleens‰ niit‰ ei tarvita, ja ne vain sekoittavat aaltomuotokuvaajaa.
Pulssien n‰kymist‰ voi vaihtaa valitsemalla ‰‰nieditori-ikkunan \textbf{Pulses}-valikosta
\textbf{Show pulses}.%
}. 

\begin{description}
\item [aaltomuoto\index{aaltomuoto}~(waveform\index{waveform})]ƒ‰nen
aaltomuodolla tarkoitetaan ‰‰nisignaalista piirretty‰ kuvaa, jossa
alkuper‰isest‰ ‰‰nest‰ mikrofonilla mitatut ilmanpaineen vaihtelut
n‰kyv‰t aaltomaisena k‰yr‰n‰. Koska mikrofoni on oikeastaan muuntanut
ilmanpaineen s‰hkˆksi eli j‰nnitemuutoksiksi ja t‰m‰ prosessi riippuu
myˆs mikrofonin ominaisuuksista, alkuper‰ist‰ ilmanpainetta ei kuitenkaan
voida kuvasta n‰hd‰. Aaltomuotokuvassa aika etenee vasemmalta oikealle.
Pystyakseli kuvaa tietyin v‰liajoin mikrofonin ker‰‰m‰st‰ s‰hkˆisest‰
signaalista rekisterˆityj‰ arvoja. 
\end{description}
%
\begin{figure}
\includegraphics[%
  scale=0.8]{/home/lennes/praat-opas/kuvat/aanieditori.jpg}


\caption{T‰lt‰ n‰ytt‰‰ Praat-ohjelman ‰‰nieditori-ikkuna (Sound Editor), jossa
voi kuunnella ‰‰nen eri kohtia ja tehd‰ siit‰ pieni‰ mittauksiakin.}
\end{figure}



\subsection{\label{sub:Aanen-patkien-kuuntelu-editorissa}ƒ‰nen p‰tkien kuuntelu}

ƒ‰nieditorin alalaidassa n‰kyy 2--3 tummanharmaata \textbf{soittopalkkia}.
Palkkien avulla voidaan kuunnella ‰‰nest‰ eri p‰tki‰. Kun napsautat
hiirell‰ alinta palkkia, kuulet koko ‰‰niobjektin yht‰ soittoa. Toiseksi
alimmaisesta palkista voit soittaa ‰‰nest‰ t‰ll‰ hetkell‰ n‰kyviss‰
olevan alueen. Jos maalaat hiirell‰ lyhyemm‰n, laatikkomaisen alueen
keskelt‰ aaltomuoto- tai analyysikuvia, voit k‰ytt‰‰ kolmatta, ylimm‰ist‰
soittopalkkia, joka ''katkeaa'' valitun alueen rajoilta. N‰in voit
soittaa kerralla haluamasi p‰tk‰n, tai p‰tk‰n sit‰ ennen, tai p‰tk‰n
heti sen j‰lkeen. 

Kunkin soittopalkin keskell‰ lukee kyseisen palkin kuvaaman ajanjakson
kesto sekunteina: alimmassa palkissa koko ‰‰niobjektin kesto (\emph{Total
duration}), keskimm‰isess‰ palkissa n‰kyviss‰ olevan alueen kesto
(\emph{Visible part}), ja ylimm‰ss‰ lyhyempien p‰tkien kestot hiirell‰
valitsemasi alueen mukaisesti. 


\section{\label{sub:Aanen-muokkaaminen-(leikkaa-liimaa-toiminnot)}ƒ‰nen muokkaaminen
(leikkaa-liimaa-toiminnot)}

T‰t‰ osiota ei ole viel‰ kirjoitettu.


\section{\label{sec:Analyysikuvaajat-editorissa}Analyysikuvaajat ‰‰nieditorissa}

Jos ‰‰nest‰ on valittu n‰kyviin analyyseja, kuten spektrogrammi (Spectrogram;
n‰kyy harmaas‰vyin‰), F0-k‰yr‰ (Pitch; sinisell‰), intensiteettik‰yr‰
(Intensity; keltaisella) tai formanttianalyysi (Formant; punaiset
pisteet), n‰m‰ n‰kyv‰t ‰‰nieditorin alaosassa p‰‰llekk‰in. Analyysikuvaajat
voidaan kytke‰ p‰‰lle tai pois valitsemalla ‰‰nieditori-ikkunan valikoista
\textbf{Spectrum: Show spectrogram}, \textbf{Pitch:Show pitch}, \textbf{Intensity:Show
intensity} tai \textbf{Formant:Show formants}. 

Esimerkiksi formanttianalyysin pit‰minen n‰kyviss‰ hidastaa ‰‰nieditorin
k‰yttˆ‰, sill‰ aina ikkunan n‰kym‰n muuttuessa kone laskee analyysit
uudelleen. Analyysit kannattaa siis kytke‰ pois p‰‰lt‰ kun niit‰ ei
v‰ltt‰m‰tt‰ tarvita.


\subsection{\label{sec:Mittausten-tekeminen-aanieditorissa}Mittausten tekeminen
‰‰nieditorissa}

ƒ‰nieditorissa n‰kyvist‰ analyysikuvista voi tehd‰ yksitt‰isi‰ numeerisia
mittauksia hiiren avulla. Laajempi aineisto kannattaa ensin nimikoida
(ks. \ref{sec:Nimikointi}), jotta mitattavat kohdat lˆytyv‰t helposti
ja mittaukset ovat tarvittaessa toistettavissa. Nimikoidusta aineistosta
on myˆs mahdollista tehd‰ mittauksia t‰ysin automaattisesti skriptien
(\ref{cha:Skriptaus}) avulla.


\subsubsection{\label{sub:Kestot-aanieditorissa}Kestot\index{kestomittaukset}}

Voit tehd‰ ‰‰nieditorissa suurpiirteisi‰ kestomittauksia valitsemalla
‰‰nest‰ mitattavan p‰tk‰n, esimerkiksi tietyn ‰‰nteen tai sanan, ja
katsomalla valitun alueen keston ylimm‰st‰ soittopalkista. Keston
saa myˆs n‰kyviin valitsemalla \textbf{Query:Get selection length},
jolloin tarkka arvo ilmestyy ns. Info-ikkunaan ja sen voi vaikkapa
kopioida hiirell‰ toiseen ohjelmaan. Sama mittausmenetelm‰ toimii
myˆs TextGrid-editorissa. Alueiden valinta yksi kerrallaan k‰sin on
tyˆl‰s tapa mitata kestoja, ja laajemman aineiston mittauksia varten
aineisto kannattaakin nimikoida etuk‰teen (ks. \ref{sec:Nimikointi})
ja k‰ytt‰‰ mahdollisesti skripti‰ nimikoitujen p‰tkien kestomittauksiin.


\subsubsection{Spektrogrammi, perustaajuus, intensiteetti ja formantit}

Kun valitset ‰‰nieditoriin n‰kyviin erilaisia analyysikuvia, voit
tehd‰ niist‰ mittauksia hiiren avulla. Klikkaa haluamaasi kohtaan
analyysikuvassa. N‰kyviin tulee punainen ristikko eli kursori. Pystyviivan
kohdalla oleva mitattava aikapiste n‰kyy pystyviivan yl‰p‰‰ss‰. 

Jos haluat t‰m‰n aikapisteen kohdalta tietoa spektrogrammista (\ref{sub:Spektrogrammi}),
n‰et editorin vasemmassa laidassa punaisen numeron, joka ilmoittaa
spektrogrammissa n‰kyv‰n taajuuden kursorin \emph{vaakaviivan} kohdalla.
Spektrogrammin pystyakselihan vastaa taajuutta. Samassa kohtaa n‰kyy
myˆs formanttitaajuus, jos kursorin ristikko on tarkalleen jonkin
punaisen formanttipisteen p‰‰ll‰. Mik‰li n‰kyviss‰ on sininen \emph{Pitch}-
eli perustaajuusk‰yr‰, n‰kyy punaisen pystykursorin kohdalta mitattu
perustaajuus sinisell‰ oikeassa laidassa (huom. ‰l‰ sekoita t‰t‰ spektrogrammimittaukseen,
joka n‰kyy vasemmalla!). Intensiteetti n‰kyy myˆs oikeassa laidassa,
mutta analyysikuvan sis‰reunassa ja vihreill‰ numeroilla. Kaikki n‰m‰
lukuarvot saat tarvittaessa poimituksi tarkasti Info-ikkunaan valitsemalla
ko. analyysin valikosta vastaavan \textbf{Get}-komennon. Esimerkiksi
perustaajuusk‰yr‰n arvon saat \textbf{Pitch}-valikon komennolla \textbf{Get
pitch}. 

Lis‰‰ akustisista analyyseista kerrotaan luvussa \ref{sec:Akustinen-analyysi}.


\chapter{\label{sec:Nimikointi}Nimikointi }

\emph{Nimikoinnilla}\index{nimikointi} (engl. \emph{labeling}\index{labeling})
eli \emph{annotoinnilla} (\emph{annotation, to annotate}\index{annotation})
tarkoitetaan sit‰, ett‰ (digitaalisesti) tallennettuun puhen‰ytteeseen
liitet‰‰n systemaattisesti \emph{annotaatioita\index{annotaatio}}
(\emph{annotation}\index{annotation}) eli jonkinlaisia (symbolisia)
kuvauksia n‰ytteen sis‰llˆst‰. Nimikointi tehd‰‰n yleens‰ jollakin
t‰h‰n tarkoitukseen kehitetyll‰ tietokoneohjelmalla, joista Praat
on yksi vaihtoehto. ƒ‰nin‰ytteen on oltava digitaalisessa muodossa
ts. ‰‰nitiedostona esim. tietokoneen kovalevyll‰ tai jonkintyyppisill‰
levykkeill‰. ƒ‰nin‰ytett‰ kuunnellaan ja siit‰ piirrettyj‰ kuvia katsellaan
analyysiohjelmalla. Kuuntelun ja katselun perusteella kirjoitetaan
‰‰nin‰ytteen ''pariksi'' \emph{nimikointitiedosto}\index{nimikointitiedosto},
joka sis‰lt‰‰ ‰‰nin‰ytteen kuvaukset. Nimikoinnin tarkoituksena on
muodostaa \char`\"{}maamerkkej‰\char`\"{}, joiden perusteella alkuper‰isest‰
puhesignaalista voidaan lˆyt‰‰ halutut osat ja kohdistaa niihin vaikkapa
akustisia analyyseja tai muita toimenpiteit‰. Nimikointi on v‰ltt‰m‰tˆnt‰,
jos halutaan hallita ja hyˆdynt‰‰ suurta m‰‰r‰‰ puheaineistoa.

\textbf{Nimikoinnissa annotaatiot on sidottava ‰‰nin‰ytteen aikaulottuvuuteen.}
T‰t‰ varten ‰‰nin‰yte yleens‰ \emph{segmentoidaan}\index{segmentoida}:
siit‰ rajataan halutulla tarkkuudella \emph{segmenttej‰\index{segmentti}}
(‰‰nip‰tki‰, joilla on m‰‰r‰tty alku- ja loppupiste sek‰ ajallinen
kesto; engl. \emph{segment}\index{segment}). Segmenteille voidaan
sitten antaa nimi‰ eli \emph{nimikoida} ne. Myˆs ‰‰nin‰ytteen tietyille
yksitt‰isille ajanhetkille (aikapisteille) voidaan antaa nimi‰ (n‰in
syntyy ns. \emph{ankkureita}\index{ankkuri}, \emph{}engl. \emph{point}\index{point}).
Pelkk‰ ‰‰nin‰ytteen litterointi esimerkiksi tekstitiedostoon ei siis
ole nimikoimista, koska siin‰ litteraation eri osia ei kytket‰ ‰‰nin‰ytteen
vastaaviin ajallisiin kohtiin.%
\footnote{Kannattaa huomata, ett‰ litteraatio tai mik‰ tahansa muu transkriptio
on aina \emph{tulkinta} alkuper‰isest‰ aineistosta. Siksi \emph{pelk‰n}
litteraation avulla ei pit‰isi koskaan tutkia \emph{puhetta} --- vaarana
on, ett‰ tulee pikemminkin tutkineeksi litteroijan n‰kemyst‰, joka
on viel‰p‰ kuvattu \emph{kirjoitetulla} kielell‰! K‰ytt‰m‰ll‰ nimikointia
aineiston kuvausmenetelm‰n‰ varmistetaan mahdollisimman suora yhteys
alkuper‰iseen puhetallenteeseen, jolloin tutkijalla ja tutkimuksen
arvioijalla on mahdollisuus tarkistaa ja korjailla puheesta luotuja
kuvauksia.%
}

Annotaatiotyylej‰ on erilaisia ja tutkija voi kehitt‰‰ oman annotaatiotavan
sen mukaan, mink‰laisista puheen ilmiˆist‰ on kiinnostunut. Annotaatio\index{annotaatio}
voi olla esimerkiksi ortografinen ts. oikeinkirjoitusta noudattava
litteraatio\index{litteraatio} (engl. yl.~\emph{transliteration}\index{transliteration},
\emph{transcript}\index{transcript}), morfologisten yksikˆiden kuvaus,
prosodisten piirteiden kuvaus tai vaikkapa foneettinen \emph{transkriptio}\index{transkriptio}\index{foneettinen transkriptio}
(engl. \emph{transcription}) puheesta. Ensin mainitussa tapauksessa
segmenttirajat voivat olla vaikkapa yksitt‰isten sanojen tai lauseiden
v‰lill‰, kun taas foneettista tutkimusta varten rajataan usein yksitt‰isi‰
‰‰nteit‰.

Jos erilaisia puheen yksikˆit‰ halutaan k‰ytt‰‰ hyˆdyksi yhdess‰,
voidaan luoda useita annotaatio- tai nimikointikerroksia\index{nimikointikerros}
tai -tasoja: yhdelle merkit‰‰n ‰‰nteiden rajat, toiselle sanojen rajat,
kolmannelle lauserajat jne.

Automaattisia segmentointi\index{automaattinen segmentointi}- ja
nimikointimenetelmi‰ yritet‰‰n jatkuvasti kehitt‰‰ eri puolilla maailmaa.
Toistaiseksi tarkimman nimikoinnin saa kuitenkin aikaan ihminen, sill‰
puheen nimikointi vaatii monenlaisten kielellisten tulkintojen tekemist‰.
Samasta syyst‰ voidaan valitettavasti todeta myˆs, ett‰ sek‰ puheen
litterointi, transkriptio ett‰ nimikointi ovat aina jossakin m‰‰rin
subjektiivisia tuotoksia: niiden tarkkuus ja johdonmukaisuus riippuvat
nimikoijan intresseist‰, tiedoista, taidoista ja teoreettisesta n‰kemyksest‰.


\section{Miksi puhetta nimikoidaan eli annotoidaan?}

\begin{itemize}
\item Nimikointityˆkalua k‰ytt‰m‰ll‰ puhen‰ytteest‰ on helppo nopeasti ja
tarkasti etsi‰, rajata ja kuunnella eri pituisia osia. T‰m‰ helpottaa,
nopeuttaa ja tarkentaa merkitt‰v‰sti litterointia ja transkriptiota.
Esimerkiksi intonaatiotranskription\index{intonaatiotranskriptio}
tekeminen helpottuu, kun kuulohavaintoa voidaan heti verrata ‰‰nisignaalista
laskettuun perustaajuusk‰yr‰‰n.
\item Nimikoidusta ‰‰nitiedostosta voidaan mitata tarkasti puheen eri yksikˆiden
kestoja. Mittauksia voidaan suorittaa jopa t‰ysin automaattisesti
(edellytt‰en ett‰ puhe on nimikoitu mittausten kannalta j‰rkeviin
yksikˆihin). Akustiset analyysit voidaan kohdistaa vain tarvittaviin
osiin n‰ytett‰. 
\item Nimikoinnin perusteella tehdyt mittaukset voidaan milloin tahansa
toistaa t‰ysin identtisin‰. Tutkimustuloksiin on siten helppo myˆhemmin
palata. 
\item Alkuper‰ist‰ digitoitua ‰‰nin‰ytett‰ (esim. keskustelu‰‰nite) ei tarvitse
v‰ltt‰m‰tt‰ pilkkoa pienempiin osiin jokaista tutkimusta tai demoa
varten, vaan se voidaan s‰ilytt‰‰ kokonaisena esimerkiksi CD-ROMilla,
eik‰ t‰llˆin menetet‰ informaatiota esimerkiksi taukojen kestoista. 
\item Digitaalinen ‰‰nin‰yte s‰ilyy tarvittaessa t‰ysin muuttumattomana
pitki‰kin aikoja ja siit‰ voidaan tehd‰ identtisi‰ kopioita. 
\item Digitaalisia ‰‰ni- ja nimikointitiedostoja on helppo jakaa muidenkin
tutkijoiden kanssa. Muut tutkijat voivat nopeasti tutustua nimikoituun
puhen‰ytteeseen ja k‰ytt‰‰ sit‰. Nimikointiin voidaan tehd‰ muutoksia
ja lis‰yksi‰ oman tarpeen mukaan. 
\item Nimikoitu ‰‰nitiedosto voidaan lopulta liitt‰‰ osaksi kaikkien tutkijoiden
k‰ytt‰m‰‰ puhetietokantaa , eik‰ tutkijoiden tarvitse aina itse ker‰t‰
ja nimikoida uusia aineistoja.
\end{itemize}

\section{\label{sub:Praat-ohjelmalle-tyypillisia-nimikointiominaisuuksia}Praat-ohjelmalle
tyypillisi‰ nimikointiominaisuuksia}

\begin{itemize}
\item mahdollisuus tehd‰ useita nimikointikerroksia (\emph{tiers}), ts.
voidaan kuvata samanaikaisia mutta eri tyyppisi‰ tapahtumia useilla
eri tasoilla 
\item mahdollisuus lis‰t‰ segmenttien (\emph{intervals}) lis‰ksi myˆs nimettyj‰
aikapisteit‰ (\textbf{PointTier}-tyyppisille riveille)
\item nimikointitiedostojen (TextGrid) ja ‰‰nitiedostojen erillisyys, ts.
‰‰nitiedostoa ei nimikoitaessa muuteta - vain nimikointitiedosto muuttuu
\item mahdollisuus nimikoida eritt‰in pitki‰ ‰‰nitiedostoja yhten‰isin‰
(LongSound-objekteina voidaan avata jopa useiden tuntien kestoisia
‰‰nin‰ytteit‰ esim. CD-ROMilta)
\item nimikointitiedostojen siirrett‰vyys laitteistosta ja ymp‰ristˆst‰
toiseen (TextGridit voidaan tallentaa tavallisina tekstitiedostoina)
\item mahdollisuus skriptien avulla kohdistaa akustinen yms. analyysi haluttuihin
kohtiin nimikoituja ‰‰nin‰ytteit‰.
\end{itemize}

\section{Miten Praat-ohjelmalla nimikoidaan puhetta? }

Ennen kuin aloitat ‰‰nitiedoston nimikoinnin, varmista, ett‰ ‰‰ni
on juuri sen mittainen ja editoitu sellaiseksi kuin haluat. Nimikointia
varten luodaan nimitt‰in \emph{TextGrid-objekti}\index{TextGrid-objekti},
jonka on oltava \textbf{samankestoinen kuin sit‰ vastaava ‰‰nitiedosto}.
Jos ‰‰nitiedoston kesto myˆhemmin muuttuu (esim. p‰‰t‰t poistaa sen
alusta \char`\"{}turhaa tyhj‰‰\char`\"{}) ja olet jo aloittanut nimikoinnin,
joudut vaikeuksiin, koska TextGridiin merkitsem‰si segmenttirajat
eiv‰t en‰‰ vastaakaan alkuper‰isi‰ aikapisteit‰ ‰‰nisignaalissa. Onkin
sitten hankalampi juttu siirt‰‰ segmenttirajat taas oikeisiin paikkoihin\ldots{}


\subsection{\label{sub:Nimikointiobjektin-luominen-Praatissa}Nimikointiobjektin
luominen Praatissa}

\begin{enumerate}
\item Avaa objektilistaan haluamasi ‰‰nitiedosto joko Sound-objektina tai
LongSound-objektina \ref{sub:Tiedostojen-avaaminen-Praatissa}. K‰yt‰
LongSound-objektityyppi‰ (komento \textbf{Read: Open long sound file...})
siin‰ tapauksessa, ett‰ ‰‰nitiedosto on erityisen suuri, eik‰ mahdu
kerralla tietokoneesi k‰yttˆmuistiin. Varmista, ett‰ ‰‰niobjekti on
valittuna. 
\item Paina objektilistan oikeassa laidassa n‰kyv‰‰ painiketta \textbf{Annotate:
To TextGrid\ldots{}} N‰kyviin tulee lomake (ks. kuva \ref{fig:textgridin_luonti}).
Kirjoita ylemm‰lle riville (\emph{Tier names}) v‰lilyˆnneill‰ erotettuna
nimet niille nimikointikerroksille, joiden haluat olevan TextGrid-objektissa.
Jos kirjoitat vaikkapa \char`\"{}\emph{‰‰nteet sanat lauseet}\char`\"{},
saat kolme nimikointikerrosta. Voit muuttaa, lis‰t‰ ja poistaa nimi‰,
kerroksien m‰‰r‰‰ ja kerrostyyppej‰ myˆhemminkin (ks. \ref{sub:Nimikointikerroksien-lis=E4=E4minen-ja}).
\item Oletuksena kaikki yl‰rivill‰ mainitut nimikointikerrokset luodaan
IntervalTier-tyyppisin‰. IntervalTier-kerroksiin\index{IntervalTier}
voi nimikoida vain segmenttej‰\index{segmentti}, eli aikav‰lej‰ joilla
on alku- ja loppuraja. Jos kuitenkin haluat, ett‰ jotkut nimikointikerroksista
ovat tyyppi‰ PointTier, kirjoita n‰iden nimet myˆs alemmalle riville
(Point tiers). PointTier-rivien nimien tulee siis esiinty‰ molemmissa
kohdissa. PointTier-kerroksiin\index{PointTier} voi merkit‰ yksitt‰isi‰
aikapisteit‰, joille voi antaa nimi‰. Joskus t‰llaisistakin merkkipaaluista
voi olla iloa.
\item Paina OK. Objektilistaan ilmestyy uusi TextGrid-objekti, joka n‰kyy
valittuna. Nyt voit aloittaa varsinaisen nimikoinnin.%
\begin{figure}
\includegraphics{/home/lennes/praat-opas/kuvat/textgridin_luonti.jpg}


\caption{\label{fig:textgridin_luonti}T‰ll‰ lomakkeella voidaan m‰‰ritt‰‰
uuden TextGrid-objektin nimikointikerrosten nimet ja tyypit. Ylemm‰lle
riville kirjoitetaan kaikkien kerrosten nimet. Jos haluat jonkin kerroksen
olevan tyyppi‰ PointTier (eik‰ IntervalTier), mainitse kerroksen nimi
myˆs lomakkeen alemmalla rivill‰. Kerroksia ja niiden nimi‰ voi myˆs
muokata j‰lkeenp‰in.}
\end{figure}

\end{enumerate}

\subsection{\label{sub:Nimikointi}Nimikointi}

\begin{enumerate}
\item Valitse objektilistasta samanaikaisesti ‰‰niobjekti (Sound tai LongSound)
ja sit‰ vastaava TextGrid-objekti, jonka juuri loit. (Voit valita
kaksi objektia yht‰ aikaa pit‰m‰ll‰ Shift- eli vaihton‰pp‰int‰ tai
Control-n‰pp‰int‰ pohjassa, kun naksautat toista objektia.)
\item Paina oikealla n‰kyv‰‰ painiketta \textbf{Edit}. Uusi \emph{TextGrid-editori}\index{TextGrid-editori}\index{nimikointi-ikkuna}\index{annotaatioeditori}-ikkuna
avautuu. Ikkunan yl‰osaa hallitsee ‰‰nisignaalin kuvaus: Ylimp‰n‰
n‰kyy ‰‰nen aaltomuoto\index{aaltomuoto} eli oskillogrammi, ja sen
alapuolella saattaa olla toinen ikkuna, jossa on ‰‰nest‰ laskettuja
analyysikuvia (esim. spektrogrammi, ks. \ref{sub:Spektrogrammi}).
ƒ‰nisignaalikuvien yl‰puolella on kapea valkoinen osa, \emph{kirjoitustila}.
Ikkunan alareunassa n‰kyy valkoisia palkkeja: ne ovat \emph{}nimikointirivej‰
eli \emph{nimikointikerroksia}\index{nimikointikerros} (\emph{tier}).
Aktiivisena oleva nimikointirivi n‰kyy keltaisena.
\item TextGrid-editorissa voit kuunnella ‰‰nt‰ ja sen p‰tki‰ samalla tavalla
kuin Sound- ja LongSound-editoreissa (ks. luku \ref{sec:Aanieditori-(Sound-editor)}).
Editori-ikkunan alalaidassa (valkoisten nimikointikerrosten tai -rivien
alla) n‰kyy kaksi tai kolme vaakasuoraa palkkia. Kun painat alinta
palkkia, kuulet koko ‰‰niobjektin sis‰llˆn yht‰ soittoa. Toiseksi
alin palkki soittaa koko t‰ll‰ hetkell‰ n‰kyviss‰ olevan osan ‰‰nest‰
- voit k‰ytt‰‰ t‰t‰ toimintoa, kun zoomaat ‰‰nikuvaa sis‰‰n- tai ulosp‰in
tai vierittelet kuvaa oikealle tai vasemmalle. Kolmesta soittopalkista
ylimm‰inen tulee n‰kyviin, kun naksautat hiirell‰ johonkin kohtaan
‰‰niaaltoa tai analyysikuvaa tai kun valitset ‰‰nest‰ alueen vet‰m‰ll‰
hiirell‰ sen yli. Ylimm‰ll‰ soittopalkilla voit kuunnella ‰‰nest‰
mink‰ tahansa lyhyenkin p‰tk‰n, kun muutat v‰lill‰ kursorin paikkaa
tai valitun alueen sijaintia. Kokeile!
\item Kun olet kuuntelemalla ja/tai katselemalla lˆyt‰nyt kohdan (esim.
lauseen alku), johon haluat tehd‰ segmenttirajan, naksauta ensin hiirell‰
kyseiseen kohtaan ‰‰niaaltoa tai analyysikuvaa ikkunan yl‰osassa.
Alaosan valkoisiin nimikointikerroksiin (\emph{tiers}) ilmestyy pystyviiva,
jossa on pieni ympyr‰ jokaisen nimikointikerroksen yl‰reunassa. Naksauta
hiirell‰ tarkasti ympyr‰‰n sen nimikointikerroksen kohdalle, johon
haluat lis‰t‰ segmenttirajan. Uusi raja tulee n‰kyviin paksuna pystyviivana.
%
\begin{figure}
\includegraphics{/home/lennes/praat-opas/kuvat/add_boundary.jpg}


\caption{Kun haluat lis‰t‰ johonkin annotaatiokerrokseen uuden rajan, klikkaa
ensin hiirell‰ oikeaa kohtaa aaltomuodosta tai analyysikuvasta, ja
klikkaa sitten pient‰ ympyr‰‰ haluamasi nimikointikerroksen yl‰reunassa.}
\end{figure}


\begin{itemize}
\item Valittuna oleva segmenttiraja n‰kyy punaisena ja muut rajat sinisin‰.
Tietyn rajan voi valita naksauttamalla hiirell‰ sen p‰‰ll‰.
\item Segmenttirajaa voi siirt‰‰ oikealle tai vasemmalle tarttumalla siihen
hiirell‰ (mutta ei viereisten segmenttirajojen yli). Kahta tai useampaa
eri nimikointikerroksissa mutta t‰sm‰lleen samassa aikapisteess‰ olevaa
segmenttirajaa voit siirt‰‰ yht‰ aikaa pit‰m‰ll‰ Shift- eli vaihton‰pp‰int‰
pohjassa ja vet‰m‰ll‰ yht‰ rajoista.
\item Valitun (punaisen) segmenttirajan voi poistaa valitsemalla editori-ikkunan
\textbf{Point/Boundary}-valikosta \textbf{Remove}.
\item Jos haluat, ett‰ segmenttirajat ovat varmasti t‰sm‰lleen samassa aikapisteess‰
useammassa nimikointikerroksessa, tartu yhteen rajaan ja ved‰ se hiirell‰
toisessa kerroksessa olevan rajan p‰‰lle. T‰llˆin rajat menev‰t automaattisesti
samaan aikapisteeseen. (T‰t‰ mahdollisuutta kannattaa k‰ytt‰‰ hyv‰ksi,
sill‰ silm‰m‰‰r‰isesti rajoja on vaikea saada t‰sm‰lleen samaan kohtaan!)
\item Valittuna olevan nimikointikerroksen nimi n‰kyy punaisella tekstill‰
TextGrid-editorin oikeassa reunassa ja kerroksen numero myˆs punaisella
vasemmassa reunassa.
\end{itemize}
\item Kun lause, ‰‰nne tms. yksikkˆ on rajattu ja haluat antaa segmentille
nimen, naksauta hiirell‰ haluamallesi nimikointikerrokseen niiden
rajojen v‰liin, johon haluat kirjoittaa. Kirjoita sitten segmentin
nimi tavalliseen tapaan n‰pp‰imistˆll‰. Teksti tulee samanaikaisesti
n‰kyviin nimikointikerrokseen segmentin kohdalle ja ikkunan yl‰reunassa
olevaan valkeaan \emph{kirjoitustilaan}\index{kirjoitustila}. (Huom.
Joissakin tapauksissa joudut ensin naksauttamaan ikkunan yl‰reunan
kirjoitustilaa, ennen kuin p‰‰set kirjoittamaan teksti‰ segmenttiin.)
Jo kirjoitettua teksti‰ voit muokata normaalisti naksauttamalla ensin
ko. segmentti‰ nimikointikerroksessa ja sitten haluttua tekstikohtaa
ikkunan yl‰osan kirjoitusrivill‰.
\end{enumerate}

\subsubsection{\label{sub:nimikointivihjeita}Vihjeit‰}

\begin{itemize}
\item Huomaa, ett‰ puheessa sanojen ja ‰‰nteiden v‰liss‰ ei normaalitapauksessa
ole taukoja, joten seuraava ‰‰nne tai sana alkaa yleens‰ siit‰ mihin
edellinen loppuu!
\item On myˆs olemassa puhe‰‰nteit‰, joiden keskell‰ on luonnostaan lyhyt
t‰ysin hiljainen vaihe (esimerkiksi soinnittomat klusiilit {[}kpt{]}).
T‰m‰ vaihe on osa ‰‰nnett‰ (ja sanaa) eik‰ se ole siis varsinainen
tauko. Jos soinniton klusiili on puhunnoksen alussa ja sit‰ edelt‰‰
tauko, et voi yleens‰ mitenk‰‰n p‰‰tell‰, mist‰ kohtaa klusiilin sulkeumavaihe
on alkanut. T‰ss‰ tapauksessa kannattaa rajata ko. ‰‰nteeseen mukaan
pelkk‰ laukeamavaihe, josta syntynyt pieni ''pyrsk‰ht‰v‰'' ‰‰ni
on monesti n‰ht‰viss‰ aaltomuodossa aivan puhunnoksen alussa.
\item Puheen aikana ihmisen ‰‰ntˆelimistˆ on l‰hes jatkuvassa liikkeess‰.
Ei siis ole mik‰‰n ihme, ett‰ ‰‰nnerajojen lˆyt‰minen vaatii k‰rsiv‰llisyytt‰
ja kompromisseja!
\item Jos joudut nimikoimaan paljon, kannattaa jo ergonomisista syist‰ opetella
muutama TextGrid-editorin valikkokomentoihin liittyv‰ n‰pp‰inoikotie,
jolla voit s‰‰st‰‰ paljon hiiren liikkeit‰ ja naksauttelua. N‰pp‰inoikotiet
n‰kyv‰t Praatin valikoissa kyseisen komennon per‰ss‰. Esimerkiksi
rivinvaihton‰pp‰int‰ painamalla voit lis‰t‰ segmenttirajan valittuun
kerrokseen kursorin kohdalle (vrt. \textbf{Boundary}-valikon \textbf{Add
on selected tier}), eik‰ tarvitse osua hiirell‰ pieneen rinkulaan.
Sarkainn‰pp‰imen (vastakkaiset nuolet n‰pp‰imistˆn vasemmassa yl‰reunassa)
painallus soittaa valitun ‰‰nip‰tk‰n. Ctrl-n‰pp‰in ja nuoli oikealle
aiheuttavat puolestaan siirtymisen seuraavaan segmenttiin valitussa
nimikointikerroksessa (vrt. \textbf{View}-valikon komento \textbf{Select
next interval}).
\item Valitun annotaatiokerroksen nimikkeist‰ voi etsi‰ teksti‰ \textbf{Edit}-valikon
\textbf{Find\ldots{}}-komennolla. Toiminnosta on hyˆty‰, kun annotoit
pitki‰ ‰‰nitiedostoja.
\end{itemize}

\subsection{\label{sub:Nimikointikerroksien-lis=E4=E4minen-ja}Nimikointikerroksien
lis‰‰minen ja poistaminen}

TextGrid-editorin sis‰ll‰ voit luoda lis‰‰ nimikointi- eli annotaatiokerroksia
ja kopioida tai poistaa olemassaolevia.

\begin{itemize}
\item Jos haluat lis‰t‰ editoitavaan TextGridiin uuden IntervalTier-tyyppisen
annotaatiokerroksen johon merkit‰‰n segmenttej‰, valitse \textbf{Tier}-valikosta
\textbf{Add interval tier\ldots{}} Jos taas haluat luoda PointTier-tyyppisen
kerroksen, johon merkit‰‰n yksitt‰isi‰ nimettyj‰ aikapisteit‰, valitse
\textbf{Add point tier\ldots{}}

\begin{itemize}
\item N‰kyviin tulee lomake (ks. kuva \ref{cap:add_interval_tier}): Merkitse
\emph{Position}-kohtaan, monesko ylh‰‰lt‰ laskettuna uuden kerroksen
pit‰isi annotaatiokerrosten ''pinossa'' olla (oletuksena uusi kerros
luodaan alimmaiseksi). Kirjoita luotavalle kerrokselle jokin kuvaava
nimi kohtaan \emph{Name}. Paina OK. Uusi kerros tulee heti n‰kyviin.
\end{itemize}
\end{itemize}
%
\begin{figure}
\includegraphics{/home/lennes/praat-opas/kuvat/add_interval_tier.jpg}


\caption{\label{cap:add_interval_tier}Anna uudelle annotaatiokerrokselle
paikka TextGridin kerrosten joukossa sek‰ jokin kuvaava nimi.}
\end{figure}


\begin{itemize}
\item Jos haluat poistaa TextGrid-objektista jonkin annotaatiokerroksen\index{annotaatiokerroksen poistaminen}
kaikkine merkintˆineen, valitse ensin poistettava kerros klikkaamalla
hiirell‰ johonkin ko. kerroksen kohtaan. Varmista viel‰, ett‰ oikea
kerros on valittuna ja sen numero ja nimi n‰kyv‰t punaisina TextGrid-editorin
laidoissa. Valitse sitten \textbf{Tier}-valikosta \textbf{Remove entire
tier}. Ole varovainen: t‰h‰n ei kysyt‰ varmistusta, ennen kuin annotaatiokerros
katoaa! \textbf{Edit}-valikon \textbf{Undo}-komento saattaa tosin
pelastaa sinut vahingon sattuessa.
\item Jos haluat poistaa TextGridin tietylt‰ annotaatiokerrokselta kaiken
tekstin, toimi samoin kuin edellisess‰ kohdassa, mutta valitse komento
\textbf{Remove all text from tier}. T‰llˆin segmenttien rajat tai
ankkurit pysyv‰t paikoillaan, vain niiden nimikkeet h‰vitet‰‰n.
\item \label{ite:duplicate_tier}Voit kopioida tietyn annotaatiokerroksen
komennolla \textbf{Tier:Duplicate tier}. T‰llˆin sinulta kysyt‰‰n
samat tiedot kuin luodessasi kokonaan uutta kerrosta (ks. kuva \ref{cap:add_interval_tier}).%
\footnote{Duplicate-komennolla voit jakaa esimerkiksi saman yksikˆn kaksi piirrett‰
eri kerroksiin: annotoi ensin yksi piirrekerros, kopioi se, poista
kopiosta kaikki teksti ja nimikoi toinen piirrekerros.%
} 
\end{itemize}

\subsection{\label{sub:IPA-merkit-ja-erikoismerkit}IPA-merkit ja erikoismerkit}

Praatissa on oma tapa, jolla saa erikoismerkkej‰ n‰kyviin TextGridiss‰.
Erikoismerkit tuotetaan n‰pp‰ilem‰ll‰ per‰kk‰in \textbackslash{}-merkki
ja jotain muita merkkej‰. N‰in muodostetut merkit n‰kyv‰t siis ainoastaan
Praatin TextGrid-ikkunoissa ja piirtoikkunassa.%
\footnote{Jos et saa foneettisia merkkej‰ n‰kym‰‰n, joudut luultavasti ensin
asentamaan koneellesi erikseen ilmaisen \emph{SIL Doulos IPA}-kirjasimen,
jonka voit ladata verkosta. Linkki lˆytyy Praat-ohjelman kotisivulta
samasta kohdasta, josta hait myˆs Praat-ohjelman Windows-version.%
}

Kaikkien Praatissa n‰kyvien erikoismerkkien\index{erikoismerkit}
ja IPA-symbolien\index{IPA-symbolit}\index{foneettiset merkit} koodit
n‰et Praatin sis‰isest‰ manuaalista: Kun olet TextGrid-editori-ikkunassa,
valitse sen oikeasta yl‰nurkasta \textbf{Help:About~special~symbols}.
Sivu on hiukan suttuinen, mutta kaikkien merkkikoodien pit‰isi lˆyty‰.
Voit myˆs yritt‰‰ k‰ytt‰‰ manuaalin hakua (\textbf{Search~manual})
ja antaa hakusanaksi \char`\"{}symbols\char`\"{} tms. (ks. manuaalin
k‰yttˆ, \ref{sub:Praatin-sisaanrakennettu-manuaali}).

Esimerkiksi nuoli ylˆsp‰in\index{nuoli ylˆsp‰in} syntyy n‰pp‰ilem‰ll‰
per‰kk‰in \textbf{\textbackslash{}\textasciicircum{}} (loppuun pit‰‰
n‰pp‰ill‰ v‰lilyˆnti, jotta \textasciicircum{}-merkin saa tuotettua).
Nuoli alasp‰in\index{nuoli alasp‰in} taas tulee n‰kyviin n‰pp‰ilem‰ll‰
per‰kk‰in merkit \textbf{\textbackslash{}\_|}

\label{Alleviivauksien-tuottaminen-Praatissa}Alleviivauksien tuottaminen\index{alleviivaus Praatin TextGridiss‰}
lienee Praatin sis‰ll‰ mahdotonta. Korvikkeeksi voi keksi‰ jonkin
oman merkint‰tavan siihen kohtaan, mist‰ alleviivaus alkaa, ja siihen,
miss‰ se p‰‰ttyy. Esim.

\begin{quote}
n‰ist‰ sanoista \textbackslash{}\_t‰m‰\textbackslash{}\_ on alleviivattu 
\end{quote}
mik‰ n‰kyy TextGridin intervallissa seuraavasti: 

\begin{quote}
n‰ist‰ sanoista \_t‰m‰\_ on alleviivattu
\end{quote}
Huom. Pelkk‰ \_-merkki Praatissa aiheuttaa seuraavan merkin n‰kymisen
alaindeksin‰\index{alaindeksi}, esim. H\_2O tuottaa veden kemiallisen
merkin H$_{\textrm{2}}$O. Jos haluaa sen sijaan tuottaa \_-merkin,
eteen on laitettava \textbackslash{}-merkki (ks. sis‰isen manuaalin
sivu \textbf{Text styles}; \ref{sub:Praatin-sisaanrakennettu-manuaali}).


\section{\label{sub:TextGridin-tallennus}TextGridin eli nimikointiobjektin
tallennus}

\begin{itemize}
\item Jos olet nimikointi-ikkunassa, voit tallentaa\index{TextGrid-tiedostomuodot}\index{TextGrid-objektin tallennus}\index{nimikoinnin tallennus}
muokattavan TextGrid-objektin \textbf{File}-valikon komennolla \textbf{Write
TextGrid to text file...}
\item Jos olet objekti-ikkunassa, valitse ensin listasta tallennettava TextGrid-objekti
ja sitten \textbf{Write}-valikosta \textbf{Write to text file...}
\end{itemize}

\subsection{Vaihtoehtoiset tiedostomuodot}

\begin{itemize}
\item \textbf{Write}-valikon komento \textbf{Write to short text file...}
tekee nimikointitiedostosta kooltaan hieman pienemm‰n ja tiedostoa
on helpompi editoida tarvittaessa vaikkapa tekstieditorilla, mutta
tiedosto aukeaa silti Praatilla normaalisti TextGrid-objektina. 
\item Voit myˆs k‰ytt‰‰ komentoa \textbf{Write to binary file...} T‰ll‰
komennolla tiedoston koko on huomattavasti pienempi, mutta et voi
avata tiedostoa mill‰‰n muulla ohjelmalla kuin Praatilla. Tiedostomuotoa
kannattaa ehk‰ k‰ytt‰‰, jos nimikoit eritt‰in pitki‰ ‰‰nitiedostoja
ja teet niihin paljon nimikointikerroksia, jolloin tekstitiedoston
koko saattaa nousta useampaan megatavuun.
\end{itemize}

\subsection{\label{sub:nimikoinnit_toiseen_ohjelmaan}Nimikoinnin siirt‰minen
toiseen ohjelmaan}

Jos haluat siirt‰‰ esim. tekem‰si litteraation Praatin TextGridist‰
muualle\index{nimikoinnin siirto toiseen ohjelmaan}\index{litteraation siirto toiseen ohjelmaan},
voit tallentaa TextGridist‰ pelk‰n tekstisis‰llˆn (ts. nimikkeet)
tekstitiedostoon esim. skriptill‰ \emph{save\_interval\_data\_to\_text\_file.praat}.
Kyseinen skripti tallentaa jokaisen intervallin sis‰lt‰m‰n tekstin
omalle rivilleen, ja rivin alkuun tulee ko. intervallin alun aikapiste
sekunteina. Skriptin voit hakea omalle tietokoneellesi osoitteesta
\url{http://www.helsinki.fi/\~lennes/praat-scripts/}.

Skriptin tuottaman tekstitiedoston voit avata mill‰ tahansa tekstieditorilla
tai tekstink‰sittelyohjelmalla, esim. MS Wordill‰. Jos haluat Wordissa
n‰hd‰ myˆs k‰ytt‰m‰si erikoismerkit, t‰ytyy Etsi-Korvaa-toiminnolla
korvata kaikki Praatin \textbackslash{}-alkuiset erikoismerkkijonot
vastaavilla erikoismerkeill‰.

Jos tallennat TextGrid-tiedoston Praat-muodossa, tuloksena on myˆs
tavallinen raakatekstitiedosto, mutta joukkoon tulee paljon Praatin
k‰ytt‰mi‰ koodeja, joita voi olla hankala k‰sitell‰. Siksi on suositeltavaa
k‰ytt‰‰ skripti‰ tekstien erist‰miseen. Jos ymm‰rr‰t hieman skriptien
toimintaa, voit samalla skriptill‰ myˆs esimerkiksi automaattisesti
mitata kunkin puhunnoksen keston tai jopa tehd‰ ‰‰nitiedoston vastaavista
kohdista haluamasi akustiset analyysit (ks. \ref{cha:Skriptaus}).


\section{Valmiin nimikoinnin hyˆdynt‰minen}

Praatissa voi esimerkiksi hakea TextGrid-objektista tietty‰ merkkijonoa,
mutta kovin hienostuneita hakutoimintoja Praat ei suoraan tarjoa.
Nimikoinnin tehokas hyˆdynt‰minen Praatilla vaatiikin jonkinasteista
skriptaustaitoa tai valmiiden skriptien k‰yttˆ‰ (ks. \ref{cha:Skriptaus}).
Praatilla huolellisesti tehty nimikointi sen sijaan mahdollistaa aineiston
liitt‰misen puhetietokantaan, jossa nimikointia voidaan lopulta hyˆdynt‰‰
(ts. kohdistaa siihen hakuja) hyvinkin yksinkertaisen k‰yttˆliittym‰n
avulla.

Praatilla tehty‰ nimikointia voi k‰ytt‰‰ hyv‰ksi myˆs muissa analyysiohjelmissa
tai -ymp‰ristˆiss‰, mutta t‰m‰ edellytt‰‰ yleens‰ TextGrid-tiedoston
konvertointia tarvittavaan muotoon.


\section{Toisella ohjelmalla tehdyn transkription tuonti}

Jos sinulla on ‰‰nitiedostosta tehty erillinen, tekstimuotoinen litteraatio\index{litteraation siirto Praatiin}
ja haluaisit nyt yhdist‰‰ Praatilla tekstin ‰‰nitiedostoon, se onnistuu
kohtuullisen helposti k‰ytt‰m‰ll‰ Praat-skripti‰. Edellytyksen‰ on,
ett‰ sinulla on k‰ytett‰viss‰ litteraatiota vastaava ‰‰nitiedosto.
Tekstitiedoston tulee olla raakatekstimuotoinen (raw text, plain text).
Yhdess‰ tekstitiedostossa saa myˆs olla vain yhden puhujan vuorosanoja
kerrallaan --- jos tiedostossasi esiintyy monta puhujaa, tee kullekin
puhujalle yksi tiedosto, josta poistat muiden puhujien vuorot.

\begin{enumerate}
\item Avaa ‰‰nitiedosto Praatilla.
\item Luo ‰‰nitiedostolle TextGrid-objekti (ks. \ref{sec:Nimikointi}),
johon m‰‰rit‰t yhden intervallityyppisen nimikointirivin. Jos tiedostossa
esiintyy useita puhujia, sinun pit‰‰ tehd‰ jokaiselle puhujalle oma
nimikointirivi, jolloin voit helposti kuvata myˆs p‰‰llekk‰ispuhuntaa\index{p\"a\"allekk\"aispuhunta}.
\item Merkitse sitten TextGridiin rajat kaikille sellaisille kohdille, jotka
vastaavat rivinvaihtoja tekstitiedostossa. Helpointa t‰m‰ on, jos
tekstitiedoston rivinvaihdot vastaavat suunnilleen puhujan pit‰mi‰
taukoja, jolloin sinun tarvitsee vain rajata ‰‰nitiedostosta hiljaiset
taukopaikat. (Taukoja voi jopa yritt‰‰ etsi‰ automaattisesti \emph{mark\_pauses.praat}-nimisen
skriptin avulla, joka lˆytyy ao. osoitteesta.)
\item Hae koneellesi tekstirivien tuontiskripti nimelt‰ \emph{label\_from\_text\_file.praat}.
Skripti lˆytyy osoitteesta \url{http://www.helsinki.fi/\~lennes/praat-scripts/}.
\item Valitse Praat-ohjelman objektilistasta TextGrid-objekti, johon merkitsit
yksikˆiden rajat ja johon haluat tuoda teksti‰. Avaa ja suorita skripti
(ks. ohjeet \ref{sec:Miten-skripti-suoritetaan}).
\end{enumerate}
Erikoismerkit eiv‰t esim. Wordin tuottamasta raakatekstist‰ siirry
oikein. K‰yt‰ tarvittaessa jo etuk‰teen etsi-korvaa-toimintoa ja muunna
erikoismerkit Praatin vastaaviksi koodeiksi (ks. \ref{sub:IPA-merkit-ja-erikoismerkit}).


\chapter{\label{sec:Akustinen-analyysi}Akustinen analyysi}

Puhe‰‰ni voi synty‰ vaihtelevasti eri kohdissa ‰‰ntˆv‰yl‰‰. Soinnillisten
‰‰nteiden (esim. vokaalien) aikana suurin osa ‰‰nest‰ syntyy ‰‰nihuulten
paukahdellessa toisiaan vasten. T‰st‰ syntyy suriseva ‰‰ni. Toisaalta
esimerkiksi frikatiivikonsonanteissa muodostetaan johonkin kohtaan
suuonteloa kielell‰ ja/tai huulilla kapeikko, josta nipin napin kulkevaan
ilmaan muodostuu pyˆrteit‰ eli syntyy h‰ly‰: erilaista sihin‰‰ tai
kohinaa. Klusiileissa t‰m‰ h‰ly esiintyy pienen pienin‰ pyrsk‰hdyksin‰,
kun puhuja sulkee ‰‰ntˆv‰yl‰ns‰ kokonaan ja p‰‰st‰‰ sitten sulkeuman
‰killisesti aukeamaan.

Eri tavoin muodostuneet l‰hde‰‰net heijastelevat ‰‰ntˆv‰yl‰ss‰ edestakaisin
ja samalla \emph{suodattuvat}: jotkut ‰‰nen osataajuudet vahvistuvat
ja toiset heikkenev‰t. Suodattumiseen vaikuttaa se, mink‰ muotoinen
puhujan ‰‰ntˆv‰yl‰ kulloinkin on, joten puhuja voi ''muovailla''
l‰hde‰‰nt‰ artikulaatioliikkeill‰, esimerkiksi kielell‰‰n ja huulillaan.
Osa suodatetusta ‰‰nienergiasta tulee ulos puhujan suusta ja/tai nen‰st‰
muiden kuultaviin.

Puheen akustisen analyysin avulla voidaan pyrki‰ esimerkiksi

\begin{itemize}
\item kuvaamaan tallennetun puhesignaalin akustisia ominaisuuksia ja p‰‰ttelem‰‰n,
miten puhuja on toiminut saadakseen puhesignaalin aikaan (esim. puheen
h‰iriˆiden toteaminen tai puheteknologinen kehitystyˆ)
\item saamaan objektiivista lis‰vahvistusta tietyille puheesta havaituille
ominaisuuksille, joilla arvellaan olevan merkityst‰ tutkimustyˆn kannalta
(esim. puheen intonaation tutkimus).
\end{itemize}

\section{\label{sub:Spektrogrammi}Spektrogrammi}

Puhe on aina kompleksista ‰‰nt‰, josta ns. Fourier-analyysin avulla
voidaan lˆyt‰‰ paljon eritaajuisia \emph{komponentteja} l. \emph{osataajuuksia}.
Spektrogrammi\index{spektrogrammi} on Fourier-analyysiin perustuva
‰‰nen aika-taajuusesitys. Sen avulla voidaan havainnollistaa ‰‰nen
spektrin (ts. taajuusrakenteen) muuttumista ajassa. Spektrogrammista
saadaan nopeasti kokonaisk‰sitys ‰‰nisignaalin osataajuuksien jakautumisesta
ja voimakkuuksista.

\begin{comment}
Jo ennen henkilˆkohtaisten tietokoneiden aikaa voitiin vastaavia kuvia
piirt‰‰ ns. \emph{sonagrafilla}\index{sonagrafi}, jossa analyysikuva
mikrofoniin ‰‰nnetyst‰ lyhyest‰ puhen‰ytteest‰ piirtyi pyˆriv‰n metallisen
sylinterin p‰‰lle kiinnitettyyn paperiliuskaan. T‰llaisella laitteella
tehty‰ kuvaa kutsuttiin \emph{sonagrammiksi}\index{sonagrammi}.
\end{comment}
Eri tarkoituksiin on perinteisesti laskettu kahdentyyppisi‰ spektrogrammeja,
ns. \emph{leve‰kaistaisia} ja \emph{kapeakaistaisia}. N‰iden avulla
on voitu mukavasti erottaa (mies)‰‰nen t‰rkeimm‰t spektraaliset ominaisuudet.

\begin{description}
\item [Leve‰kaistainen~spektrogrammi\index{leve\"akaistainen spektrogrammi}](analyysi-ikkunan
pituus n. 4.3 ms) n‰ytt‰‰ tarkasti ajassa tapahtuvia muutoksia ja
esimerkiksi glottisperiodit (‰‰nihuulten \char`\"{}paukaukset\char`\"{})
n‰kyv‰t selv‰sti pystyraitoina. \\
Leve‰kaistainen spektrogrammi on k‰tev‰ esimerkiksi nimikoinnissa,
kun m‰‰rittelet ‰‰nteiden rajoja. Spektrin ajalliset muutokset n‰kyv‰t
tarkasti ja onnistut ehk‰ lˆyt‰m‰‰n nopeammin spektraalisia \char`\"{}k‰‰nnekohtia\char`\"{},
jotka ovat usein hyvi‰ ehdokkaita segmenttirajoiksi. (Rajakohta on
tietenkin varmistettava kuuntelemalla.)
\item [Kapeakaistaisessa~spektrogrammissa\index{kapeakaistainen spektrogrammi}](analyysi-ikkunan
pituus n. 29 ms) sek‰ formantit (n‰kyv‰t tummina vaakakaistaleina
etenkin soinnillisissa ‰‰nteiss‰), ‰‰nen osataajuudet (ns. harmoniset,
harmonics) ett‰ n‰iden ajassa tapahtuvat muutokset erottuvat parhaiten.
\\
Kapeakaistainen spektrogrammi voi olla hyˆdyllinen esimerkiksi kun
haluat tarkistaa F0- eli perustaajuusanalyysin oikeellisuuden. T‰llˆin
editori-ikkunassa kannattaa m‰‰ritell‰ n‰kyviin vain spektrogrammin
alimmat taajuudet, niin ett‰ vain muutama alin osataajuus erottuu
selv‰sti.
\end{description}
Huomaa, ett‰ spektrogrammi on ainoastaan tapa visualisoida ‰‰nen taajuusrakennetta
ajan funktiona. \emph{Spektrogrammi ei sin‰ns‰ ole varsinainen tulos
tai tilastollista aineistoa; se on vain yleiskuva tietyst‰ ‰‰nisignaalista.}
Tilastolliseen tutkimukseen siis tarvitaan muita numeerisia mittauksia.
Jos taas teet kvalitatiivista tutkimusta, spektrogrammi sin‰ns‰ ei
riit‰, vaan se vaatii perustellun tulkinnan. Oman kokemukseni mukaan
spektrogrammi on paras v‰line tutkijalle itselleen - sen avulla voi
kahlata aineistoa l‰pi ja etsi‰ varsinaisia mitattavia tutkimuskohteita.
Yksitt‰isi‰ aineistosta poimittuja esimerkkej‰ voi toki tarvittaessa
havainnollistaa spektrogrammeilla myˆs varsinaisissa julkaisuissa.


\subsection{Spektrogrammin tuottaminen}


\subsubsection{Editori-ikkunassa}

Spektrogrammi saadaan n‰kyviin ‰‰nieditorissa (\ref{sec:Aanieditori-(Sound-editor)})
tai TextGrid-editorissa (\ref{sub:Nimikointi}) valitsemalla \textbf{Spectrum}-valikosta
\textbf{Show spectrogram}. T‰llˆin spektrogrammin t‰rkeimpi‰ asetuksia
voidaan tarvittaessa muuttaa \textbf{Spectrum}-valikon komennolla
\textbf{Spectrogram settings...}

\begin{itemize}
\item Jos haluat laskea \emph{leve‰kaistaisen spektrogrammin} (oletus Praatissa),
analyysi-ikkunan pituudeksi (\emph{window length}) tulisi antaa noin
0.005 s eli 5 ms (t‰llˆin ns. kaistanleveydeksi saadaan 260 Hz).
\item Jos haluat laskea \emph{kapeakaistaisen spektrogrammin}, analyysi-ikkunan
pituudeksi tulisi antaa noin 0.03 s eli 30 ms (t‰llˆin ns. kaistanleveydeksi
saadaan 43 Hz).
\end{itemize}

\subsubsection{Objekti-ikkunassa}

Objekti-ikkunassa uusi spektrogrammiobjekti voidaan luoda valitsemalla
ensin haluttu ‰‰niobjekti ja painamalla dynaamisen valikon painiketta
\textbf{Spectrum:To Spectrogram...} Kohtaan \emph{Window length} merkit‰‰n
analyysi-ikkunan pituus kuten ‰‰nieditorin kautta laskettaessa.


\section{\label{sub:Spektrit}Spektrit}

T‰t‰ osiota ei ole viel‰ kirjoitettu.

spektri\index{spektri}

Fourier-muunnos\index{Fourier-muunnos}

lyhytaikaisspektri\index{lyhytaikaisspektri}

jatkuva Fourier-muunnos\index{jatkuva Fourier-muunnos}


\section{\label{sub:F0--eli-perustaajuusanalyysi}F0- eli perustaajuusanalyysi }

Puheen laskennallinen perustaajuus on suhteessa puheen havaittuun
s‰velkorkeuteen, mink‰ vuoksi perustaajuusanalyysia hyˆdynnet‰‰n paljon
esimerkiksi puheen intonaation tutkimuksessa.

Soinnillisten ‰‰nteiden aikana puhujan ‰‰nihuulet paukahtelevat nopeasti
toisiaan vasten. Puhuja voi s‰‰dell‰ ‰‰nihuulten v‰r‰htelytapaa ja
niiden paukahtelunopeutta muuttamalla ‰‰nihuulten pituutta ja j‰ykkyytt‰,
s‰‰t‰m‰ll‰ niiden asentoa toisiinsa n‰hden ja muuttamalla keuhkoista
ulos virtaavan ilman painetta. Puheesta teht‰v‰‰ \emph{perustaajuusanalyysia\index{perustaajuusanalyysi}}
k‰ytet‰‰n, kun halutaan saada mahdollisimman tarkasti selville puhujan
‰‰nihuulten v‰r‰htelytaajuus soinnillisten ‰‰nteiden aikana. Perustaajuutta
mitataan hertsein‰ (Hz): yksi hertsi tarkoittaa yht‰ v‰r‰hdyst‰ sekunnissa.
Puheen tyypillinen perustaajuus riippuu puhujan fyysisist‰ ominaisuuksista
ja siin‰ on paljon yksilˆllisi‰ eroja. Miespuhujien perustaajuus liikkuu
keskim‰‰rin 100 Hz:n tiet‰mill‰, kun taas naispuhujien perustaajuus
voi olla keskim‰‰rin 150-200 Hz.


\subsection{\label{sub:Perustaajuus-vs-savelkorkeus}Puheen perustaajuus ja s‰velkorkeushavainto}

Puheen laskennallinen perustaajuus on tietyss‰ ep‰suorassa suhteessa
puheen havaittuun s‰velkorkeuteen. Yleens‰ voidaan sanoa, ett‰ mit‰
korkeampi perustaajuus, sit‰ korkeampana ‰‰ni havaitaan. Hertsiasteikko
ei kuitenkaan kerro suoraan havaitusta s‰velkorkeudesta, vaan t‰h‰n
tarkoitukseen on kehitetty erilaisia havaintoa kuvaavia s‰velkorkeusasteikoita,
esim. mel- tai puolis‰velasteikko. \emph{Havaintoon perustuvat s‰velkorkeusasteikot
ovat aina suhteellisia eiv‰tk‰ absoluuttisia}: ei voida esim. ilmoittaa
ett‰ jokin havaittu s‰velkorkeus oli 20 puolis‰velaskelta, vaan on
mainittava, mihin toiseen ‰‰neen verrattuna havaittava s‰velkorkeus
on ilmoitettu, esim. 20 puolis‰velaskelta 100 Hz:n yl‰puolella.


\subsection{Perustaajuusk‰yr‰n tuottaminen}


\subsubsection{Editori-ikkunassa}

ƒ‰nieditorissa (ks. \ref{sec:Aanieditori-(Sound-editor)}) tai nimikointi-ikkunassa
(TextGrid-editori, ks. \ref{sub:Nimikointi}) voit kytke‰ perustaajuusk‰yr‰n
n‰kyviin tai piilottaa sen \textbf{Pitch}-valikon komennolla \textbf{Show
pitch}. Perustaajuusk‰yr‰ n‰kyy editori-ikkunassa sinisen‰. Perustaajuusasteikko
n‰kyy editorin \emph{oikeassa laidassa sinisill‰ numeroilla}. Kun
napsautat hiirell‰ johonkin kohtaan aaltomuoto- tai analyysikuvassa,
n‰et kursorin kohdalla punaisen ristikon. Perustaajuusk‰yr‰n arvo
hiirell‰ valitsemassasi ajankohdassa (punaisen pystyviivan kohdalta
mitattuna) n‰kyy sinisen‰ lukuarvona vastaavalla kohdalla editori-ikkunan
oikeassa laidassa. Mik‰li haluat saada tarkan perustaajuusarvon kopioidaksesi
sen johonkin toiseen ohjelmaan, valitse editorin \textbf{Pitch}-valikosta
komento \textbf{Get pitch}. Mittausarvo tulee n‰kyviin Info-ikkunaan,
josta voit kopioida sen hiiren avulla muualle.


\paragraph{Perustaajuusanalyysin asetukset}

Perustaajuusanalyysi ei v‰ltt‰m‰tt‰ tuota j‰rkev‰‰ tulosta kaikille
puhujille. Jos perustaajuusk‰yr‰ ei mielest‰si n‰yt‰ j‰rkev‰lt‰ tai
odotuksiesi mukaiselta, voit tarvittaessa muuttaa analyysin asetuksia
\textbf{Pitch}-valikon kohdasta \textbf{Pitch settings...} Erityisesti
kannattaa tarkistaa kohta \emph{Pitch range}, jossa analyysille asetetaan
sellainen taajuuden ala- ja yl‰raja, joiden v‰lill‰ kyseisen puhujan
perustaajuuden oletetaan p‰‰asiassa liikkuvan. Miespuhujan alaraja
voi olla matala‰‰nisell‰ miehell‰ jopa 50-60 Hz tai oletusarvoinen
75 Hz. Naispuhujan alarajaksi voi tarvittaessa m‰‰ritt‰‰ hieman korkeamman
lukeman, esim. 100 Hz. Jos puhuja on kime‰-‰‰ninen lapsi, alarajaa
kannattaa nostaa tarvittaessa reilustikin ja tarkistaa samalla, ett‰
myˆs yl‰raja on riitt‰v‰n korkealla.

Mik‰li haluat ainoastaan muuttaa n‰kyviss‰ olevan perustaajuusk‰yr‰n
asteikkoa, valitse \textbf{Pitch}-valikosta kohta \textbf{Advanced
pitch settings...} ja lis‰‰ kohtaan \emph{View range} sopivat ala-
ja yl‰rajat.


\subsubsection{Objekti-ikkunassa}

Objekti-ikkunassa uusi \textbf{Pitch}-objekti voidaan luoda valitsemalla
ensin haluttu ‰‰niobjekti ja painamalla dynaamisen valikon painiketta
\textbf{Periodicity:To Pitch...} Kohtiin \emph{Pitch floor} ja \emph{Pitch
ceiling} annetaan tarvittaessa puhujakohtaisesti perustaajuusanalyysin
odotettavissa olevat ala- ja yl‰rajat samoin kuin editorin kautta
laskettaessa (ks. yll‰). N‰in syntyv‰st‰ uudesta \textbf{Pitch}-objektista
voidaan tehd‰ mittauksia \textbf{Query}-painikkeella tai piirt‰‰ kuvia
piirtoikkunaan \textbf{Draw}-komennoilla (ks. \ref{sec:Kuvien-luominen}).
Objektin sis‰ltˆ‰ voidaan tarkastella \emph{Pitch-editorissa\index{Pitch-editori}}
(valitse \textbf{Pitch}-objekti ja paina \textbf{Edit}). Valittuna
oleva \textbf{Pitch}-objekti voidaan myˆs tallentaa \textbf{Write}-valikon
komennoilla (ks. \ref{sub:Tiedostojen-tallentaminen-Praatissa}).


\subsection{Miksi perustaajuusk‰yr‰ss‰ on joissakin kohdissa aukkoja?}

Soinnittomien ‰‰nteiden aikana ‰‰nihuulet eiv‰t v‰r‰htele toisiaan
vasten, joten t‰llaisten ‰‰nteiden kohdalla myˆsk‰‰n perustaajuusanalyysi
ei ''lˆyd‰'' ‰‰nest‰ tarpeeksi periodisuutta. Esimerkiksi soinnittomat
klusiilikonsonantit {[}k p t{]} sis‰lt‰v‰t luonnostaan l‰hes t‰ysin
hiljaisen ns. sulkeumavaiheen, jonka aikana puhuja ei tuota ‰‰nihuulillaan
sointia ja lis‰ksi katkaisee ilmavirran ulosp‰‰syreitit sulkemalla
nen‰portin sek‰ tukkimalla jonkin kohdan suuontelostaan kielell‰‰n
tai huulillaan. Perustaajuusk‰yr‰n katkoksen kohdalla voi luonnollisesti
olla taukokin. Mik‰li puhujan ‰‰nenlaatu muuttuu jossakin kohtaa siten,
ett‰ ‰‰nihuuliperiodit ovat ep‰s‰‰nnˆllisi‰ (esim. narinainen ‰‰ni),
voi perustaajuusanalyysi tuottaa outoja tuloksia tai k‰yr‰ss‰ voi
n‰ky‰ katkos. T‰t‰ ongelmaa ei ehk‰ saa korjattua edes analyysiasetuksia
muuttamalla.


\section{\label{sub:Intensiteetti-(aanekkyys)}Intensiteetti (‰‰nekkyys) }

ƒ‰nen laskennallinen intensiteetti\index{intensiteetti} on tietyss‰
ep‰suorassa suhteessa ‰‰nen havaittuun voimakkuuteen\index{‰‰nen voimakkuus}
eli ‰‰nekkyyteen\index{‰‰nekkyys}. 


\subsection{Puheen intensiteetti ja voimakkuushavainto}

Yleens‰ voidaan sanoa, ett‰ mit‰ korkeampi intensiteetti, sit‰ ‰‰nekk‰‰mp‰n‰
‰‰ni havaitaan. Intensiteettik‰yr‰st‰ saatava informaatio voidaan
periaatteessa n‰hd‰ myˆs aaltomuotok‰yr‰st‰ tutkimalla sen amplitudia
eli pystyakselilla tapahtuvien heilahdusten laajuutta. Praatin \emph{intensiteettik‰yr‰ss‰
n‰kyv‰ desibeliasteikko on suhteellinen.} Praatissa mitatut desibeliarvot
eiv‰t siis kerro esimerkiksi fysikaalista ‰‰nenpainetta alkuper‰isess‰
puhetilanteessa, mik‰li ‰‰nitett‰ ei ole jo ‰‰nitystilanteessa kalibroitu.
\emph{}%
\footnote{Kalibrointi voidaan suorittaa esimerkiksi ‰‰nitt‰m‰ll‰ puheen yhteydess‰
tietty standardoitu ‰‰ni (jonka tuottama ‰‰nenpaine on tunnettu) tietylt‰
et‰isyydelt‰ puhujaan ja mikrofoniin n‰hden. J‰lkeenp‰in kalibrointi‰‰nen
ja varsinaisen puheen intensiteetti‰ vertaamalla saadaan selville
myˆs puheen ‰‰nenpaine. Jotta kalibrointi on p‰tev‰, mikrofonin on
myˆs pysytt‰v‰ puhujaan n‰hden t‰ysin paikallaan koko ‰‰nityksen ajan.
Kalibrointi ei myˆsk‰‰n onnistu suuntaavilla mikrofoneilla, joita
puhe‰‰nityksess‰ usein k‰ytet‰‰n. Mik‰li kalibrointi on v‰ltt‰m‰tˆnt‰,
asiassa kannattaakin kysy‰ apua akustiikan ammattilaiselta.%
} \emph{}Siit‰ voidaan tutkia, onko esimerkiksi jokin tavu ollut ymp‰ristˆˆns‰
n‰hden ‰‰nekk‰‰mpi. T‰m‰ edellytt‰‰, ett‰ mikrofoni on pysynyt tutkittavalla
ajanjaksolla puhujaan n‰hden paikallaan.


\subsection{Intensiteettik‰yr‰n tuottaminen}


\subsubsection{Editori-ikkunassa}

ƒ‰nieditorissa (ks. \ref{sec:Aanieditori-(Sound-editor)}) tai nimikointi-ikkunassa
(TextGrid-editori, ks. \ref{sub:Nimikointi}) voit kytke‰ intensiteettik‰yr‰n
n‰kyviin tai piilottaa sen \textbf{Intensity}-valikon komennolla \textbf{Show
intensity}. Intensiteettik‰yr‰ n‰kyy editori-ikkunassa keltaisena.
Intensiteettiasteikko n‰kyy editorin \emph{oikeassa laidassa analyysi-ikkunan
sis‰puolella vihreill‰ numeroilla}. Kun napsautat hiirell‰ johonkin
kohtaan aaltomuoto- tai analyysikuvassa, n‰et kursorin kohdalla punaisen
ristikon. Intensiteettik‰yr‰n arvo hiirell‰ valitsemassasi ajankohdassa
(punaisen pystyviivan kohdalta mitattuna) n‰kyy vihre‰n‰ lukuarvona
vastaavalla kohdalla editori-ikkunan oikeassa laidassa. Mik‰li haluat
saada tarkan intensiteettiarvon kopioidaksesi sen johonkin toiseen
ohjelmaan, valitse editorin \textbf{Intensity}-valikosta komento \textbf{Get
intensity}. Mittausarvo tulee n‰kyviin Info-ikkunaan, josta voit kopioida
sen hiiren avulla muualle.


\subsubsection{Objekti-ikkunassa}

Objekti-ikkunassa uusi \textbf{Intensity}-objekti voidaan luoda valitsemalla
ensin haluttu ‰‰niobjekti ja painamalla dynaamisen valikon painiketta
\textbf{To Intensity...} Kohtaan \emph{Minimum pitch} voidaan tarvittaessa
merkit‰ puhujakohtaisesti odotettavissa oleva perustaajuusanalyysin
alaraja. N‰in syntyv‰st‰ uudesta \textbf{Intensity}-objektista voidaan
tehd‰ mittauksia \textbf{Query}-painikkeella tai piirt‰‰ kuvia piirtoikkunaan
\textbf{Draw}-komennoilla (ks. \ref{sec:Kuvien-luominen}). Valittuna
oleva \textbf{Intensity}-objekti voidaan myˆs tallentaa \textbf{Write}-valikon
komennoilla (ks. \ref{sub:Tiedostojen-tallentaminen-Praatissa}).


\section{\label{sub:Formanttianalyysi-(esim.-vokaalien}Formanttianalyysi}

Puheen formanttianalyysilla on pitk‰t perinteet etenkin vokaalitutkimuksessa\index{vokaalitutkimus}.
Koska formantit liittyv‰t ‰‰ntˆv‰yl‰n muotoon puheentuoton aikana,
voidaan niiden keskitaajuuden muutosten ja keskin‰isten suhteiden
perusteella tietyin edellytyksin tehd‰ johtop‰‰tˆksi‰ puhesignaalin
tuottamiseen k‰ytetyist‰ artikulaatioliikkeist‰. Varovaisuus tulosten
tulkinnassa on kuitenkin tarpeen.


\subsection{Mik‰ on formantti?}

Puhe\index{formantti} on aina kompleksista ‰‰nt‰, josta ns. Fourier-analyysin
avulla voidaan lˆyt‰‰ paljon eritaajuisia komponentteja l. osataajuuksia.
Puhe‰‰ni voi saada alkunsa kurkunp‰‰ss‰ ja/tai muissa kohdissa ‰‰ntˆv‰yl‰‰
‰‰nteest‰ riippuen. T‰m‰n l‰hde‰‰nen\index{l\"ahde\"a\"ani} osataajuudet
vahvistuvat tai heikkenev‰t amplitudeiltaan sen mukaan, mink‰ muotoisessa
‰‰ntˆv‰yl‰ss‰ ‰‰ni liikkuu ja heijastuu. Osa n‰ist‰ ‰‰ntˆv‰yl‰ss‰
suodattuneista ‰‰niaalloista s‰teilee lopulta suun ja/tai nen‰n kautta
ulkomaailmaan.

ƒ‰ntˆv‰yl‰‰\index{\"a\"ant\"ov\"ayl\"a} (kurkunp‰‰st‰ huuliin asti)
voidaan yksinkertaistaen verrata jonoon eripituisia ja -paksuisia
putkia. Mik‰ tahansa putki taas vahvistaa kaikkia sellaisia ‰‰niaaltoja,
joiden aallonpituus\index{aallonpituus} (joka on k‰‰nt‰en verrannollinen
aallon taajuuteen) on sopivassa suhteessa putken pituuteen. Ihminen
kykenee tietyiss‰ rajoissa muuttelemaan ‰‰ntˆv‰yl‰ns‰ muotoa (esim.
liikuttamalla kielt‰‰n, huuliaan jne.), jolloin ‰‰ntˆv‰yl‰n \char`\"{}putkijonon\char`\"{}
osien lukum‰‰r‰, pituudet (ja paksuudet) muuttuvat. Jokainen putkenp‰‰
(myˆs avonainen p‰‰!) aiheuttaa ‰‰nien osittaisen heijastumisen putkessa
takaisinp‰in. Niinp‰ ‰‰ntˆv‰yl‰ss‰ liikkuu jatkuvasti ‰‰niaaltoja
molempiin suuntiin, ja aallot tulevat toisiaan vastaan. 

\begin{quotation}
Kuvittele, ett‰ istut keinussa ja kaverisi antaa sinulle vauhtia.
Kun kaverisi seisoo edess‰si tai takanasi ja tyrkk‰‰ keinua joka kerran
juuri oikeassa vaiheessa, saat parhaat \char`\"{}vauhdit\char`\"{}
eli keinusi heilahtelee v‰hitellen yh‰ korkeammalle. Olisikin turhaa
antaa vauhtia silloin, kun keinu ei ole kohdalla! Ja jos kaverisi
siirtyy keskelle keinun rataa seisomaan ja yritt‰‰ tyrk‰t‰ sinua takaisinp‰in
kun keinu heilahtaa kovaa vauhtia h‰nt‰ kohti, h‰n tuskin onnistuu,
vaan keinu todenn‰kˆisimmin pys‰htyy (ja kaverisi ehk‰ kaatuu ja satuttaa
itsens‰). Ajoitus on siis t‰rke‰.
\end{quotation}
Jos kaksi ‰‰niaaltoa tulee toisiaan vastaan ja kulkee toistensa l‰pi
sellaisessa kohdassa, jossa molemmat sattuvat olemaan samassa vaiheessa
(esim. molempien aaltojen ilmanpainehuiput osuvat toisiinsa samassa
pisteess‰), kyseisell‰ kohdalla syntyy hetkellisesti amplitudiltaan
suurempi aalto. Toisiinsa tˆrm‰‰v‰t aallot siis summautuvat. Jos taas
aallot ovat kohdatessaan p‰invastaisessa vaiheessa toisiinsa n‰hden,
on aaltojen yhteenlaskettu amplitudi kyseisell‰ kohdalla nolla, ts.
ne kumoavat toisensa. Tietyiss‰ olosuhteissa aallot saattavat putken
sis‰ll‰ jatkuvasti tˆrm‰t‰ samanvaiheisina samassa kohdassa, jolloin
syntyy resonanssi\index{resonanssi}. Resonanssiin osallistuvilla
aalloilla on silloin joko sama taajuus (ja siten myˆs sama aallonpituus)
eli aalto tˆrm‰‰ sopivan pituisessa putkessa aina itsens‰ heijastumiin,
tai sitten v‰hint‰‰n kahden eri osataajuuden aallonpituudet ovat tietyiss‰
suhteissa toisiinsa ja putken pituuteen. (Kuvittele, ett‰ kaverisi
tyrkk‰isi keinulle vauhtia vain joka toisella tai kolmannella heilahduksella.)
Putken pituus siis m‰‰r‰‰, mink‰taajuiset aallot putkessa voivat resonoida.
(Ks. myˆs \ref{sub:Akustiikkaa})

\begin{description}
\item [Formantti]vastaa yht‰ tai useampaa ‰‰ntˆv‰yl‰n resonanssia\index{resonanssi}
eli sellaista taajuutta, jonka mukaiset ‰‰niaallot vahvistuvat jossakin
‰‰ntˆv‰yl‰n kohdassa. Formantit n‰hd‰‰n \char`\"{}harjanteina\char`\"{}
tai \char`\"{}huippuina\char`\"{} puhesignaalin p‰tk‰st‰ lasketussa
spektriss‰. Formanttien sijainnin ja liikkeen on osoitettu vaikuttavan
merkitt‰v‰ll‰ tavalla myˆs puhe‰‰nteest‰ syntyv‰‰n havaintoon. T‰m‰
on aivan luonnollista: ovathan formantit tietyss‰ monimutkaisessa
suhteessa siihen, mill‰ tavalla puhuja on liikutellut ‰‰ntˆv‰yl‰putkistonsa
osia. ƒ‰ntˆv‰yl‰ll‰ on periaatteessa aina monia (‰‰rettˆm‰sti) resonansseja,
mutta niist‰ vain muutama vaikuttaa selv‰sti esim. vokaalien laadun
havaintoon. Yleens‰ puhe‰‰nteen spektrist‰ ei edes yritet‰ tunnistaa
enemp‰‰ kuin korkeintaan viisi alinta formanttia, koska ihmiskorvakaan
ei juuri erota formanttien muutoksia n‰it‰ korkeammilta taajuuksilta.
\end{description}
Tietyn puhesignaalip‰tk‰n spektrin muotoa voidaan approksimoida LPC-menetelm‰ll‰\index{LPC-menetelm\"a}
ja arvioida siten esimerkiksi formanttien keskitaajuuksia (eli mit‰
taajuuksia ‰‰ntˆv‰yl‰ on kulloinkin parhaiten vahvistanut). ƒ‰ntˆv‰yl‰n
resonanssit vaikuttavat tietenkin mihin tahansa ‰‰neen, joka ‰‰ntˆv‰yl‰n
l‰pi kulkee, mutta formantteja mitataan useimmiten vokaaleista, koska
n‰ist‰ on olemassa paljon tutkimusta (ts. \char`\"{}referenssiarvoja\char`\"{}
joihin verrata) ja automaattiset formanttianalyysimenetelm‰tkin yleens‰
toimivat vokaaleilla parhaiten.

Puhe on kuitenkin k‰yt‰nnˆss‰ ‰‰ntˆv‰yl‰n jatkuvaa liikett‰ ja LPC
nerokkuudessaankin vain matemaattinen malli, joten pelk‰ll‰ formanttianalyysilla
ei luultavasti saada koskaan t‰ydellist‰ kuvaa siit‰, mink‰ muotoinen
‰‰ntˆv‰yl‰ puhujalla on todellisuudessa ollut tietyll‰ ajanhetkell‰.
Mill‰ tahansa ohjelmalla tehty automaattinen formanttianalyysi on
pelkk‰ laskennallinen arvio spektrin hallitsevimmista huipuista, ja
formanttianalyysin virhel‰hteet onkin tunnettava tarkoin, ennen kuin
formanttianalyysin tuloksia voi tulkita ja k‰ytt‰‰.


\subsection{Formanttianalyysin laskentaperiaatteet}

Praat-ohjelmalla tehdyn formanttianalyysin lopputuloksena syntyy Formant-objekti\index{Formant-objekti},
joka edustaa ‰‰niobjektin spektrirakennetta ajan funktiona. Se on
siis jono tasaisin v‰limatkoin laskettuja n‰ytteit‰, joissa kussakin
on taajuus- ja kaistanleveysinformaatio useasta formantista sek‰ informaatiota
ikkunan maksimi-intensiteetist‰. Formant-objekti on siis rakenteeltaan
ik‰‰n kuin kaavamainen tai karkeistettu versio spektrogrammista. Praat-ohjelman
oletusformanttianalyysi\index{Burg-formanttianalyysi} on Burgin algoritmi,
jota k‰ytet‰‰n komennolla \textbf{Sound: To Formant (burg)...} (ks.
\ref{sub:Burg-analyysi} alla).


\subsubsection{Formanttianalyysin toiminta}

Aluksi ‰‰nisignaali \textbf{n‰ytteistet‰‰n uudelleen} n‰ytetaajuuteen,
joka on kaksi kertaa \emph{Maximum~formant}\index{Maximum formant}-kohdassa
annettu formanttien yl‰rajataajuus. Sitten signaali \textbf{esivahvistetaan\index{esivahvistaminen}}
(pre-emphasis\index{pre-emphasis}), jotta myˆs ylemmill‰ taajuuksilla
olevat, luonnostaan vaimeammat huiput saisivat saman painoarvon kuin
alemmat formantit. N‰in saadusta signaalista lasketaan tietyin v‰limatkoin
\textbf{lyhytaikaisspektrej‰\index{lyhytaikaisspektri}} (spektrien
v‰limatka ja spektri-ikkunan leveys m‰‰ritell‰‰n kohdissa \emph{Time
step\index{Time step (formanttianalyysi)}} ja \emph{Window length}\index{Window length (formanttianalyysi)}).

Sitten approksimoidaan kussakin analyysi-ikkunassa tai -kehyksess‰
(frame) saatua spektri‰ \textbf{lineaariprediktio-\index{lineaariprediktio}}
eli LP- tai LPC-menetelm‰ll‰ (Linear Predictive Coding\index{Linear Predictive Coding},
josta k‰ytet‰‰n t‰ss‰ Burgin algoritmia). Lineaariprediktiossa spektrin
muotoa pyrit‰‰n kuvaamaan pienell‰ m‰‰r‰ll‰ huippuja, joille arvioidaan
keskitaajuus ja kaistanleveys. N‰iden huippujen voidaan katsoa edustavan
‰‰ntˆv‰yl‰n resonansseja l. formantteja. LPC:n tulos on itse asiassa
joukko kertoimia, jotka eiv‰t sin‰ns‰ ole ihmiselle lainkaan havainnollisia.
Siksi formanttianalyysissa viel‰ jatkojalostetaan kertoimien antamaa
informaatiota formanttien taajuus- ja kaistanleveysarvoiksi.

Koska algoritmi lˆyt‰‰ aluksi formantteja myˆs hyvin matalilta ja
korkeilta taajuuksilta, \textbf{poistaa Burg-algoritmi lis‰ksi} formantit
50 Hz:n alapuolelta sek‰ formantit jotka ovat korkeammalla kuin Maximum
formant - 50 Hz. Jos v‰ltt‰m‰tt‰ haluat pit‰‰ n‰m‰kin taajuuskaistat
mukana (jolloin tuskin saat perinteisen n‰kˆisi‰ F1- ja F2-arvoja),
kokeile komentoa \textbf{Sound: To Formant (keep all)\ldots{}} Jos
taas haluat v‰ltt‰m‰tt‰ saada aina pyyt‰m‰si tietyn m‰‰r‰n formantteja
tasaisesti jakautuneina koko antamallesi taajuusalueelle, voit kokeilla
muuten ep‰luotettavaa Split-Levinson-algoritmia\index{Split-Levinson-algoritmi}
komennolla \textbf{Sound: To Formant (sl)\ldots{}}

Huom. Yll‰ kerrotulla tavalla tuotettu Formant-tyyppinen objekti sis‰lt‰‰
vain ne formantit, joita signaalista on kussakin ikkunassa lˆytynyt,
ja taajuusarvot saattavat heittelehti‰ paljonkin per‰kk‰isten ikkunoiden
v‰lill‰. Per‰kk‰isten formanttiarvojen \char`\"{}jatkuvuutta\char`\"{}
t‰m‰ perusanalyysi ei yrit‰ etsi‰. Jos haluat tutkia esim. vokaalisegmentin
sis‰ll‰ tapahtuvia formanttiliikkeit‰, tee ensin t‰m‰ analyysi, mutta
katso sitten kohta Tracking (\ref{sub:Tracking}).


\subsection{\label{sub:Burg-analyysi}Burg-formanttianalyysin tekeminen}


\paragraph{\label{par:formantit-editorissa}Tapa 1: }

Jos haluat vain katsella Praatin laskemia formanttiarvoja esimerkiksi
yhdess‰ ‰‰nen aaltomuodon ja spektrogrammin kanssa, tee formanttianalyysi
‰‰nieditori-ikkunan sis‰ll‰.

\begin{enumerate}
\item Valitse objektilistasta ‰‰niobjekti (tyyppi‰ \textbf{Sound}), jolle
haluat suorittaa formanttianalyysin.
\item Paina hiirell‰ objektilistan oikeassa laidassa n‰kyv‰‰ painiketta
Edit,jolloin saat n‰kyviin ‰‰nieditori-ikkunan.
\item Valitse ‰‰nieditori-ikkunan \textbf{View}-valikosta \textbf{Show formant}
(ja muut analyysit, jotka haluat n‰kyviin samanaikaisesti). Formanttianalyysi
tulee n‰kyviin ‰‰niaallon alapuolelle punaisina pistein‰.
\item Tarkista analyysin asetukset \textbf{View}-valikon kohdasta \textbf{Formant
analysis\ldots{}} ƒ‰nieditorissa voi tehd‰ formanttianalyysin vain
burg-algoritmilla. Asetukset ovat muuten samat kuin analyysitavassa
2, mutta formanttien maksimim‰‰r‰‰ ei t‰ss‰ anneta, vaan sen sijaan
kohta \emph{Number of poles\index{Number of poles}} viittaa lineaariprediktiossa
k‰ytett‰vien kertoimien m‰‰r‰‰n. Jos t‰m‰ arvo on 10, algoritmi etsii
viitt‰ formanttia.
\item Jos ikkunassa on kerrallaan n‰kyviss‰ pitk‰ p‰tk‰ ‰‰nisignaalia, formanttianalyysi
ei ehk‰ n‰y koko ikkunan osalta. Jos haluat analyysin laskettavaksi
pitemm‰lt‰ aikav‰lilt‰, muuta haluamasi sekuntim‰‰r‰ \textbf{View}-valikon
komennolla \textbf{Analysis resolution}\ldots{}, kohtaan \textbf{Formant
max. duration (s)}. Huomaa kuitenkin ett‰ formantit lasketaan uudelleen
aina kun vierit‰t tai zoomaat editori-ikkunaa, joten pitk‰ formanttianalyysi
voi hidastaa tyˆskentely‰. Formantit kannattaakin editorissa kytke‰
pois p‰‰lt‰ aina kun niit‰ ei tarvita. 
\item Halutessasi voit tehd‰ ‰‰nieditorissa mittauksiakin seuraavasti:
\end{enumerate}
\begin{itemize}
\item summittaisia mittauksia klikkaamalla hiirell‰ jonkin punaisen formanttipisteen
kohdalle (taajuus hiiren kohdalla n‰kyy ikkunan vasemmassa reunassa
punaisella) tai
\item tarkempia mittauksia klikkaamalla hiirell‰ johonkin kohtaan ‰‰nisignaalia
tai spektrogrammia ja valitsemalla sitten \textbf{Query} -valikosta
esim. \textbf{Get first formant}, jolloin Info-ikkunassa n‰kyy ajallisesti
l‰hin 1. formantille mitattu arvo kursorin kohdalta. (N‰m‰ \textbf{Query}-valikon
formanttikomennot toimivat vain jos formanttianalyysi on valittuna
\textbf{View}-valikossa.)
\end{itemize}

\paragraph{\label{par:formantit-objektilistasta}Tapa 2}

Kun haluat analysoida tarkemmin, tehd‰ tarkkoja mittauksia, piirt‰‰
kuvia, tai k‰ytt‰‰ formanttianalyysia skriptin sis‰ll‰, luo formanttiobjekti\index{Burg-formanttianalyysi}
erikseen objektilistassa.

\begin{enumerate}
\item Valitse objektilistasta ‰‰niobjekti (tyyppi‰ 'Sound'), jolle haluat
suorittaa formanttianalyysin. 
\item Paina hiirell‰ objektilistan oikeassa laidassa n‰kyv‰‰ painiketta
\textbf{Formants \& LPC} ja valitse sen alasvetovalikosta \textbf{To
Formant (burg)\ldots{}}
\item Varmista, ett‰ formanttianalyysin asetukset ovat oikein: 

\begin{description}
\item [Time~step\index{Time step (formanttianalyysi)}~(sekuntia):]Aika-askel;
aika per‰kk‰isten analyysikehysten tai -ikkunoiden keskikohtien v‰lill‰.
Jos analysoitava ‰‰niobjekti on 2 sekunnin pituinen ja aika-askel
on 0.01 sekuntia, analysoidaan yhteens‰ noin 200 kehyst‰. Todellinen
lukum‰‰r‰ on kuitenkin hieman pienempi, koska mittaaminen on hankalampaa
‰‰nin‰ytteen reunoilla. 
\item [Max.~number~of~formants\index{Max. number of formants}:]Etsitt‰vien
formanttien maksimilukum‰‰r‰. Ihmispuheen analyyseissa kannattaa yleens‰
k‰ytt‰‰ arvoa 5. Jos \emph{Maximum formant}-parametri on myˆs asetettu
oikein, t‰m‰ on ainoa tapa jolla saat j‰rkevi‰ tuloksia.
\item [Maximum~formant\index{Maximum formant}~(Hz):]Etsitt‰vien formanttien
taajuuden yl‰raja. T‰m‰ arvo on ehdottomasti asetettava analysoitavan
puhujan mukaan. Oletusarvo 5500 Hz\index{naispuhujan formanttianalyysin asetukset}
sopii aikuiselle naispuhujalle. Miespuhujalle\index{miespuhujan formanttianalyysin asetukset}
kannattaa k‰ytt‰‰ arvoa 5000 Hz. Liian korkea yl‰raja\index{formanttien yhteensulautuminen}
voi nimitt‰in tuottaa liian v‰h‰n formantteja alemmilla taajuuksilla,
sill‰ algoritmi yritt‰‰ etsi‰ edellisess‰ kohdassa asetetut 5 formanttia
niin ett‰ ne erottuvat mahdollisimman hyvin toisistaan. Esim. miehen
‰‰nt‰m‰lle {[}u{]}-vokaalille pit‰isi periaatteessa lˆyty‰ kaksi l‰hekk‰ist‰
formanttia 1000 Hz:n alapuolelta, mutta liian korkea yl‰raja-asetus
voi antaa F1:ksi n‰iden yhdistelm‰n ja sys‰t‰ loput formantit liian
ylˆs. Pienten lasten puheelle\index{lapsen formanttianalyysin asetukset}
taas pit‰‰ k‰ytt‰‰ paljon korkeampia arvoja, esim. 8000 Hz. Optimaalinen
yl‰rajataajuus lˆytyy kokeilemalla analyysia vaikkapa erikseen ‰‰nnetyill‰
vokaaleilla.
\item [Window~length\index{Window length (formanttianalyysi)}:]Analyysi-ikkunan
tai -kehyksen efektiivinen kesto. (Todellinen laskentaikkuna on kaksi
kertaa n‰in pitk‰, koska Praat k‰ytt‰‰ Gauss-muotoista ikkunaa, jonka
reunat ovat l‰hell‰ nollaa.) Pre-emphasis from (Hz): Spektrin esivahvistuksen
alaraja (+3dB:n raja k‰‰nteiselle alip‰‰stˆsuodattimelle, jonka kulma
on +6dB/oktaavi). Tavallisesti vokaalin spektri vaimenee yl‰taajuuksiin
p‰in ment‰ess‰ noin 6 dB oktaavia kohti. Formanttianalyysilla halutaan
kuitenkin lˆyt‰‰ paikallisia huippuja myˆs yl‰taajuuksilta, vaikka
ne olisivat suhteessa heikompia kuin spektrin alaosan formantit. T‰m‰n
vuoksi spektri suodatetaan ennen formanttianalyysia siten, ett‰ yl‰taajuudet
voimistuvat ja spektrin kallistuskulma pienenee.
\end{description}
\item Paina lopuksi \textbf{OK}. Objektilistaan ilmestyy uusi formanttiobjekti,
joka n‰kyy valittuna.
\end{enumerate}
%
\begin{figure}
\includegraphics{/home/lennes/praat-opas/kuvat/formantti_burg_asetukset.jpg}


\caption{Formanttianalyysin asetusten m‰‰ritteleminen.}
\end{figure}



\subsection{\label{sub:Tracking}Tracking }

Jos kaipaat yhten‰isi‰ ja johdonmukaisen n‰kˆisi‰ formanttik‰yri‰,
laske ensin edell‰mainitulla tavalla 2 Formant-objekti ja valitse
se objektilistasta. Paina sitten objektilistan oikeassa reunassa n‰kyv‰‰
painiketta \textbf{Track\ldots{}} T‰m‰ komento pyrkii lˆyt‰m‰‰n jokaisesta
analyysi-ikkunasta (\emph{frame}) saman m‰‰r‰n formantteja ja esitt‰m‰‰n
jokaiselle formantille suorimman mahdollisen \char`\"{}polun\char`\"{}
per‰kk‰isten ikkunoiden v‰lill‰. Jotta saisit esille esim. 3 formanttipolkua,
pit‰‰ Formant-objektin jokaisessa analyysi-ikkunassa olla ainakin
kolme formanttiehdokasta (ts. kannattaa laskea alkuper‰inen formanttiobjekti
esim. 5 formantilla ja k‰ytt‰‰ sitten \textbf{Track}-komentoa).


\subsection{Lis‰tietoa formanttianalyysista}

Kannattaa lukea Praatin sis‰isest‰ manuaalista esim. tutoriaalisivu
\textbf{Source--filter~synthesis\index{Source--filter synthesis}}
(anna manuaalin hakusanaksi esim. \char`\"{}source-filter\char`\"{}),
jossa kuvataan melko helppotajuisesti puheen l‰hde-suodinteoria ja
neuvotaan k‰yt‰nnˆss‰, miten Praatilla voi kokeilla puheen l‰hde‰‰nen
ja/tai ‰‰ntˆv‰yl‰n suodinfunktion laskemista puhen‰ytteest‰. Sivu
on hyˆdyllinen varsinkin jos olet kiinnostunut Praatin puhesynteesiominaisuuksista.


\subsection{Formanttikuvien piirt‰minen}

T‰ss‰ muutamia esimerkkej‰ Praatilla piirretyist‰ kuvista.

%
\begin{figure}
\includegraphics{/home/lennes/praat-opas/kuvat/formant_speckle.jpg}


\caption{Valitse Formant-objekti ja paina \textbf{Draw: Speckle\ldots{}}}
\end{figure}


\textbf{}%
\begin{figure}
\includegraphics{/home/lennes/praat-opas/kuvat/formanttikarttaesim.jpg}


\caption{Valitse Formant-objekti ja paina \textbf{Draw: Scatter plot\ldots{}}
\protect \\
Esim. skriptaamalla voi myˆs lis‰t‰ kyseisen vokaalin nimen kunkin
ympyr‰n sis‰lle.}
\end{figure}



\subsection{F1/F2-formanttikartan piirt‰minen}

Perinteisen, kirjallisuudessa usein esiintyv‰n F1/F2-vokaalikartan\index{F1/F2-vokaalikartta}\index{formanttikartta}
saa piirretty‰, kun ensin on laskenut tutkittavasta vokaalista tms.
yhten‰isest‰ ‰‰nteest‰ Formant-objektin objektilistaan esim. Burg-analyysilla
(\ref{par:formantit-objektilistasta}). 

\begin{enumerate}
\item Valitse Formant-objekti ja k‰yt‰ komentoa \textbf{Draw --- Scatter~plot
(reversed~axes)\index{Scatter plot (reversed axes)}...} 
\item M‰‰rit‰ esiin tulevassa lomakkeessa F1:n arvot sijoitettavaksi pystyakselille
(\textbf{Vertical formant number:} 1)\textbf{\index{Vertical formant number}}
sek‰ sopivat F1:n ala- ja yl‰rajat kohtaan \emph{Vertical~minimum\index{Vertical minimum}}
ja \emph{Vertical~maximum}\textbf{\index{Vertical maximum}.} M‰‰rit‰
F2 vastaavasti vaaka-akselille kirjoittamalla numero 2 kohtaan \emph{Horizontal
formant number\index{Horizontal formant number}} sek‰ antamalla yl‰-
ja alarajat. F1:n ja F2:n rajat kannattaa valita niin, ett‰ ne juuri
ja juuri kattavat kaikkien vokaalilaatujen alueen kyseisell‰ puhujalla,
jolloin eri vokaalien pit‰isi asettua erilleen ja helposti tulkittaviin
kohtiin kartalla. Piirrett‰v‰n merkin muodon ja koon voi valita piirtolomakkeen
alaosasta (\emph{Mark~size\index{Mark size}} ja \emph{Mark~string}\index{Mark string}).
Piirtov‰ri‰ voit vaihtaa viel‰ ennen lomakkeen hyv‰ksymist‰ piirtoikkunan
\textbf{Pen}-valikosta. Muista myˆs valita piirtoikkunasta sopivan
kokoinen ja muotoinen alue, johon formanttikartta skaalautuu haluamallasi
tavalla (ks. \ref{sec:Kuvien-luominen}).
\item Paina \textbf{OK}. Tuloksena pit‰isi olla vokaalikartta, jossa kummankin
formantin minimi on oikeassa yl‰nurkassa ts. kuvan pit‰isi suunnilleen
vastata kirjallisuudessa n‰kyvi‰ karttoja. Jos Formant-objekti on
laskettu niin pitk‰st‰ ‰‰nin‰ytteest‰, ett‰ siihen on mahtunut useita
laskentaikkunoita, jokaisesta n‰ist‰ piirtyy kuvaan yksi formanttipiste
tai -pallero. T‰st‰ on iloa, jos piirr‰t formanttikartan esim. diftongista,
jolloin formanttien liike vokaalin aikana n‰kyy.
\item Voit piirt‰‰ samaan kuvaan p‰‰llekk‰in muitakin Formant-objekteja.
Koska eri puhujien ''vokaaliavaruudet'' ovat hieman eri kokoisia
jo fysiologisista eroista johtuen, on yleens‰ j‰rkev‰‰ piirt‰‰ vain
yhden puhujan formantteja samaan kuvaan.
\item Formanttikartan voi tallentaa kuvatiedostoon (\ref{sub:Kuvien-tallentaminen}).
\end{enumerate}

\subsection{Formanttianalyysin virhel‰hteet }

Formanttianalyysi perustuu teoreettiseen \label{l=E4hde-suodinteoria}malliin,
jonka mukaan akustinen puhesignaali muodostuu l‰hde‰‰nest‰\index{l\"ahde-suodinteoria}
(esimerkiksi kurkunp‰‰n tuottama \char`\"{}surina\char`\"{}) ja ‰‰ntˆv‰yl‰n
suodinominaisuuksista (esimerkiksi formantit). Jos mitattavaan puhe‰‰neen
on p‰‰ssyt vaikuttamaan jokin muu tekij‰ (esim. huonetila, muut puhujat
tai jokin ‰‰nitystekninen h‰iriˆ), saatat saada v‰‰ristyneit‰ mittaustuloksia.

\label{Formanttianalyysin-tulkinta}Formanttianalyysi vaatii aina
jonkin verran tulkintaa\index{formanttianalyysin tulkinta}: tutkija
olettaa formanttien lˆytyv‰n \char`\"{}sielt‰ mist‰ niiden pit‰isi
lˆyty‰\char`\"{}. Tutkijoiden k‰ytt‰m‰t referenssiarvot perustuvat
lukuisiin tutkimuksiin, joissa yleens‰ selke‰sti ‰‰nnettyjen vokaalien
formantteja on mitattu tietyill‰ parametreilla kontrolloiduista aineistoista,
tai kaavamaiseen malliin \char`\"{}keskim‰‰r‰isen\char`\"{} ‰‰ntˆv‰yl‰n
rakenteesta. Formanttilaskennan tuloksia ei saa pit‰‰ yksinomaan objektiivisina
lukuina, vaan ne on suhteutettava kyseiseen puhujaan, ‰‰nneymp‰ristˆˆn,
analyysiparametreihin ja ‰‰nitteen laatuun. Monet kontekstuaaliset
tekij‰t saattavat muuttaa formanttien taajuuksia ja kaistanleveyksi‰,
ja jotkut puheen piirteet (esim. nasaalisuus) saattavat vaikeuttaa
formanttien tulkintaa. Puhujat ovat myˆs aina yksilˆit‰, eik‰ formanttiarvojen
pid‰k‰‰n osua kaikilla samoille taajuuksille.

Formantteja kannattaa luonnollisesti mitata vain kohdista, joissa
ei ole usean puhujan p‰‰llekk‰ispuhuntaa. N‰in varmistat, ettei toisten
puhujien ‰‰ni sekoita analyysia, sill‰ formanttianalyysi ei pysty
erottamaan eri ‰‰nil‰hteit‰ toisistaan. Myˆs muu taustah‰ly tai ‰‰nitystilan
voimakas j‰lkikaiku voivat periaatteessa aiheuttaa virheellisi‰ tuloksia.

Tavanomaiset formanttianalyysin asetukset sopivat parhaiten soinnillisiin
‰‰nteisiin, etenkin vokaaleihin. Formantteja sin‰ns‰ on tietenkin
kaikissa ‰‰nteiss‰, mutta automaattisen formanttianalyysin parametrien
antaminen ja tulosten tulkinta on soinnittomilla ‰‰nteill‰ vaikeampaa,
joskus j‰rjetˆnt‰kin. Ei myˆsk‰‰n kannata k‰ytt‰‰ \textbf{Track\ldots{}}-komentoa
kohdissa, joissa on esim. konsonantin ja vokaalin v‰linen siirtym‰,
koska niiss‰ lˆydettyjen formanttien lukum‰‰r‰ saattaa ‰kisti muuttua,
jolloin j‰rkevien \char`\"{}formanttipolkujen\char`\"{} lˆyt‰minen
on mahdotonta.

Kun formantit esiintyv‰t l‰hekk‰in, kuten esim. F2 ja F3 {[}y{]}-vokaalissa
tai F1 ja F2 {[}u{]}:ssa tai {[}o{]}:ssa, on vaarana, ett‰ formanttianalyysi
tulkitsee vierekk‰iset formantit samaksi yhten‰iseksi huipuksi. N‰in
k‰y usein, jos tavanomaista viitt‰ formanttia etsit‰‰n liian suurelta
taajuuskaistalta, esimerkiksi jos olet antanut matala‰‰niselle miespuhujalle
liian suuren yl‰raja-arvon kohdassa \emph{Maximum formant}.

Laskennallisesti tavallinen syy \label{formanttien-yhteensulautuminen}formanttien\index{formanttien yhteensulautuminen}
\char`\"{}yhtymiselle\char`\"{} tai \char`\"{}heittelehtimiselle\char`\"{}
on, ettei LPC-analyysissa ole k‰ytetty riitt‰v‰‰ m‰‰r‰‰ spektrikertoimia
(t‰m‰ lukuhan on suhteessa etsitt‰vien formanttihuippujen m‰‰r‰‰n).
Riitt‰v‰ m‰‰r‰ on v‰hint‰‰n signaalin n‰ytteenottotaajuus hertsein‰
jaettuna tuhannella (esim. 16 kHz signaalille 16). Praatin Burg-formanttianalyysi
n‰ytteist‰‰ signaalin automaattisesti ensin n‰ytetaajuuteen, joka
on kaksi kertaa \emph{Maximum formant}, ja jos (2 {*} Max. number
of formants) on t‰h‰n taajuuteen sopivassa suhteessa, kertoimia lasketaan
automaattisesti riitt‰v‰ m‰‰r‰ ja analyysin pit‰isi onnistua kohtalaisesti.
Sinun on kuitenkin otettava viel‰ tarkemmin huomioon oikea kerrointen
m‰‰r‰, mik‰li et k‰yt‰ Praatin formanttianalyysia suoraan vaan teet
erikseen LPC-analyysin Sound-objektista. Silloin sinun on joko itse
n‰ytteistett‰v‰ signaali uudestaan sopivaan n‰ytetaajuuteen ennen
LPC-analyysia, tai annettava LPC:lle riitt‰v‰ kertaluku (prediction
order), esim. 16 kHz ‰‰nin‰ytteelle 16. 


\chapter{\label{sec:Kuvien-luominen}Kuvien luominen}

\index{Picture-ikkuna}\index{piirtoikkuna}\index{piirt‰minen}Praat-ohjelmalla
voi tarkastella ja tuottaa ‰‰nest‰ akustisia kuvauksia kahdella tavalla.
Siin‰ vaiheessa, kun aineistoon tutustutaan tai sit‰ nimikoidaan (ks.
\ref{sec:Nimikointi}), akustisia kuvantamismenetelmi‰ k‰ytet‰‰n tavallisesti
editori-ikkunoiden, esimerkiksi ‰‰nieditorin (\ref{sec:Aanieditori-(Sound-editor)})
tai nimikointi-ikkunan (TextGrid-editorin, \ref{sub:TextGridin-tallennus})
kautta. Editori-ikkunoissa voi tehd‰ myˆs alustavia mittauksia erilaisista
analyysikuvista. Mik‰li sen sijaan halutaan piirt‰‰ analyyseista laadukkaita
kuvia, jotka voidaan siirt‰‰ esimerkiksi tekstink‰sittelydokumenttiin,
on kyseinen analyysi ensin erikseen laskettava objektilistaan (ks.
\ref{sec:Akustinen-analyysi}). Piirt‰minen Praat-ohjelman piirtoikkunaan
tapahtuu nimitt‰in aina jonkin objektilistassa olevan objektin pohjalta.


\section{Kuvan piirt‰minen}

\begin{enumerate}
\item Valitse objekti-ikkunasta se objekti/objektit, josta haluat piirt‰‰
kuvan. Jos haluat piirt‰‰ analyysikuvan, jota vastaavaa objektia ei
viel‰ listassa ole, valitse ensin ‰‰niobjekti ja laske siit‰ haluamasi
analyysiobjekti (ks. \ref{sec:Akustinen-analyysi})
\item Valitse hiirell‰ \emph{piirtoikkunasta} (\emph{Picture}) haluamasi
kokoinen ja muotoinen suorakaide (\emph{Viewport}\index{Viewport}),
johon kuva piirret‰‰n. 
\item Muuta tarvittaessa piirrett‰v‰n kuvan piirtov‰ri‰ (piirtoikkunan valikosta
\textbf{Pen}) ja/tai tekstin kirjasintyyppi‰ ja -kokoa (piirtoikkunan
valikosta \textbf{Font}). T‰m‰ valinta vaikuttaa vasta seuraavan kuvan
ominaisuuksiin, ei piirtoikkunan aikaisempaan sis‰ltˆˆn.
\item Valitse objekti-ikkunasta se objekti, josta haluat piirt‰‰ kuvan.
Valitse sitten dynaamisesta valikosta joko \textbf{Draw}- tai \textbf{Paint}-painikkeen
alta sopiva piirtokomento (Paint-komento n‰kyy Draw-komennon sijaan
esimerkiksi spektrogrammiobjektin ollessa valittuna). N‰kyviin tulee
lomake, jossa kysyt‰‰n joitakin piirrett‰v‰‰n kuvaan liittyvi‰ tietoja. 

\begin{itemize}
\item \emph{Garnish}-kohdassa oleva rasti tarkoittaa, ett‰ kuvan ymp‰rille
piirret‰‰n automaattisesti laatikko ja merkit‰‰n vaaka- ja pystyakseleille
oletusarvoiset nimet ja asteikot. Jos jostakin syyst‰ haluat esimerkiksi
piirt‰‰ p‰‰llekk‰in kuvia eri objekteista tai haluat m‰‰ritell‰ akseleiden
otsikot ja numerot itse, ota \emph{Garnish}-ruksi pois.
\end{itemize}
\item Paina \textbf{OK}, jolloin kuva piirtyy piirtoikkunasta valitun alueen
sis‰‰n. Kuva skaalautuu automaattisesti alueen muotoiseksi.
\end{enumerate}

\section{\label{sub:Kuvien-tallentaminen}Kuvien tallentaminen}

Ennen kuin tallennat tai siirr‰t kuvaa Praatin piirtoikkunasta, valitse
varmuuden vuoksi se osa piirtoalueesta, jonka haluat tallentaa tai
siirt‰‰. 

Praat-ohjelman piirtoikkunaan piirretyn kuvan voi joko

\begin{enumerate}
\item \emph{kopioida leikepˆyd‰lle\index{kuvan siirto leikepˆyd‰lle}} komennolla
\textbf{Copy to clipboard} (toimii Praatin Windows- ja Macintosh-versioissa)
\emph{}ja sen j‰lkeen liitt‰‰ vaikkapa tekstink‰sittelydokumenttiin
ko. ohjelman \textbf{Edit}- valikon \textbf{Paste}-komennolla. Huom.
kuva ei tallennu minnek‰‰n ennen kuin tallennat toisessa ohjelmassa
k‰sittelem‰si dokumentin!
\item \emph{tallentaa} Praat-kuvana\index{Praat-kuvatiedosto}, jota ei
voi avata mill‰‰n muulla ohjelmalla, k‰ytt‰m‰ll‰ komentoa \textbf{File:
Write to praat picture file...} Praat-kuvatiedostoja kannattaa k‰ytt‰‰,
jos haluat jatkossa yhdist‰‰ tiettyyn kuvaan uusia kuvia tai jatkaa
sen piirt‰mist‰ Praatilla. Praat-kuvatiedostojen oletusarvoinen tiedostop‰‰te
on \emph{.prapic}
\item \emph{tallentaa} \label{enu:EPS-grafiikka}EPS-muotoisena kuvatiedostona
komennolla \textbf{File: Write to EPS file...} EPS-kuvatiedostojen
nimiss‰ kannattaa k‰ytt‰‰ tiedostop‰‰tett‰ \emph{.eps}
\end{enumerate}
\emph{EPS\index{EPS}} eli \emph{Encapsulated Postscript\index{Encapsulated Postscript}}
on kuvaformaatti, jota kannattaa aina k‰ytt‰‰ painatettavaksi tarkoitetussa
materiaalissa. EPS on nimitt‰in skaalautuvaa vektorigrafiikkaa toisin
kuin esimerkiksi piirtoikkunasta copy-paste-menetelm‰ll‰ siirretyt
bittikarttakuvat, jotka ovat laadultaan heikompia ja muuttuvat j‰lkeenp‰in
venytett‰ess‰ rakeisiksi. PostScript on oikeastaan yleinen grafiikan
ja tekstin kuvauskieli, jota suunnilleen kaikki nykyiset lasertulostimet
k‰ytt‰v‰t tulostettavan materiaalin k‰sittelyyn. EPS-grafiikka takaa
siis myˆs, ett‰ aineisto tulostuu hyv‰laatuisena.


\section{\label{sub:Kuvatiedostojen-avaaminen-Praatin}Kuvatiedostojen avaaminen
Praatin piirtoikkunaan}

Praat-ohjelmalla tallennetuista tai muualle siirretyist‰ kuvista voidaan
Praatilla avata ainoastaan \emph{praat picture}-tiedostot. Valitse
piirtoikkunassa komento \textbf{File: Read from praat picture file...} 


\section{\label{sub:Kuvatiedostojen-avaaminen-muilla}Kuvatiedostojen avaaminen
muilla ohjelmilla}

Praat-ohjelmalla tallennettuihin EPS-kuvatiedostoihin ei valitettavasti
erikseen tallennu ns. esikatselukuvaa. T‰m‰ tarkoittaa, ett‰ kun liit‰t
Praatilla tekem‰si EPS-tiedoston esimerkiksi Word-dokumenttiin, kuvan
kohdalla n‰kyy vain laatikko, jonka p‰‰ll‰ on ruksi. Kun tulostat
Word-dokumentin paperille, kuva kuitenkin n‰kyy vastaavassa kohdassa. 

Erityisill‰ grafiikkaohjelmilla EPS-kuviinkin voi luoda esikatselukuvan,
jos sellaista tarvitsee. Kaikki kuvank‰sittelyohjelmat eiv‰t v‰ltt‰m‰tt‰
tue EPS-grafiikkaa, mutta sellaiset ammattik‰yttˆˆn tarkoitetut piirto-ohjelmat
kuin Adobe Illustrator tai Macromedia Freehand kyll‰kin. 

Varmin tapa saada EPS-kuvatiedosto auki on k‰ytt‰‰ erityist‰ ohjelmaa,
joka on tarkoitettu PostScript-dokumenttien k‰sittelyyn ja n‰ytt‰miseen.
T‰llainen ilmainen ohjelmistopaketti on \emph{Ghostscript} ja sen
pariksi tarkoitettu PS-dokumenttien katseluohjelma nimelt‰ \emph{Ghostview}
(tai \emph{GSview}), jotka voi ladata ilmaiseksi verkosta, \url{http://www.cs.wisc.edu/\~ghost/}.
N‰m‰ ohjelmat kannattaa Windows-k‰ytt‰j‰n asentaa koneelleen, sill‰
niill‰ on Praatilla tehtyjen kuvien katselun ja muuntamisen lis‰ksi
muutakin k‰yttˆ‰. Unix- ja Linux-k‰ytt‰jien ei yleens‰ tarvitse olla
huolissaan PostScript-dokumenttien avaamisesta, sill‰ unix-tyyppisiss‰
k‰yttˆj‰rjestelmiss‰ on yleens‰ valmiina postscript-tuki.


\chapter{\label{cha:Skriptaus}Skriptaus}


\section{\label{sec:Mika-on-skripti?}Mik‰ on skripti?}

Skripti\index{skripti} on er‰‰nlainen tietokoneohjelma, jonka on
tarkoitus olla helposti omaksuttavissa ja suhteellisen helppolukuinen.

Skriptikielen komennot on yleens‰ suunniteltu johonkin erityiseen
tarkoitukseen ja toimivat vain tietyss‰ rajatussa ymp‰ristˆss‰. Esimerkiksi
Praat-skriptill‰ ei tee mit‰‰n, jollei koneeseen ole asennettu Praat-ohjelmaa,
jolla skriptin voisi suorittaa.

Itse \textbf{skripti on tavallinen tekstitiedosto}, jossa on yksi
tai useampia rivej‰. Kullakin rivill‰ on yksi komentolause.

Monet Praat-skriptien komennoista ovat aivan samann‰kˆisi‰ kuin Praatissa
n‰kyv‰t valikkokomennotkin (ks. \ref{sec:Historiatoiminto}).

Skriptin voit siis kirjoittaa ja avata uudelleen muokattavaksi mill‰
tahansa tekstieditorilla\index{tekstieditori}

%
\footnote{Unix/Linux-koneissa vaihtoehtoja riitt‰‰: esim. \emph{emacs} tai \emph{pico}.
Vanhemmissa Macintosheissa hyv‰ valinta on esim. \emph{BBEdit} (josta
pit‰isi lˆyty‰ ilmaisia versioita). Windows-koneissa voit k‰ytt‰‰
esimerkiksi \emph{WordPad}ia tai jotakin ilmaista verkosta lˆytyv‰‰
tekstieditoria (itse kokeilin esim. \emph{NoteTab Light} -nimist‰
ohjelmaa). %
} (tai tekstink‰sittelyohjelmalla, jos tallennat tyˆn tuloksen tavallisena
tekstitiedostona). Praatissa ei ole merkityst‰ sill‰, mik‰ on skriptitiedoston
tiedostop‰‰te.

Myˆs Praatissa on sis‰‰nrakennettuna oma yksinkertainen tekstieditori\index{tekstieditori},
jolla voit luoda ja muokata skriptej‰, mutta siin‰ ei ole juuri mit‰‰n
kirjoitustyˆt‰ helpottavia hienouksia (edes rivinumerointia), mik‰
saattaa ‰rsytt‰‰ pitemm‰lle ehtinytt‰ skriptaajaa.

\begin{comment}
Edistyneemmille k‰ytt‰jille vinkkin‰: Praatin skriptikielell‰ voi
tehd‰ paljon kaikenlaista. Mit‰ monimutkaisempia toimintoja huomaa
skripteihin kirjoittavansa, sit‰ tarkemmin pit‰isi kuitenkin mietti‰,
lˆytyisikˆ tarkoitukseen paremmin sopivia skriptaus- tai ohjelmointikieli‰.
(Oppaan kirjoitushetkell‰ kirjoittaja tekee melkein kaiken Praatilla,
koska ei osaa muutakaan... ;-D)

Eri kielill‰ tehtyj‰ palikoita voi myˆs yhdistell‰ kekseli‰‰sti. Esim.
Perl -skriptit saattavat olla joihinkin tarkoituksiin k‰tev‰mpi‰,
jollei Praatin signaalink‰sittelytoimintoja tarvita - ja jos osaa
Perli‰. Ehk‰ kannattaa kokeilla PraatJavaa , jos Java-ohjelmointi
on l‰hell‰ syd‰nt‰. Praat sin‰ns‰ on kirjoitettu C:ll‰, joten C:n
taitaja voi kehitell‰ Praatin l‰hdekoodiin lis‰toimintoja ja k‰‰nt‰‰
vaikka itselleen oman Praat-version.
\end{comment}

\section{\label{sec:Mita-hyotya-skriptaamisesta}Miksi skriptej‰ k‰ytet‰‰n? }

Skripteill‰ voi selviyty‰ nopeammin, johdonmukaisemmin ja v‰hemmin
virhein toistuvista teht‰vist‰, jotka \char`\"{}k‰sin\char`\"{} tehtyn‰
olisivat aikaavievi‰, tylsi‰ ja virhealttiita. Yksinkertainenkin skripti
saattaa helpottaa el‰m‰‰ huomattavasti. Lis‰ksi skripteill‰ voi usein
korvata toimintoja, jotka Praatista (toistaiseksi) sattuvat puuttumaan.
Skriptien kirjoittamiseen kannattaa siis uhrata hieman aikaa - varsinkin
jos tiet‰‰, ett‰ edess‰ on oikea \char`\"{}liukuhihnaprojekti\char`\"{}!


\section{Praat-skriptin luominen ja muokkaus}

\begin{itemize}
\item Jos haluat luoda uuden skriptin\index{skriptin luominen} Praatilla,
valitse objektilistan \textbf{Control}-valikosta (tai jonkin editori-ikkunan
\textbf{File}-valikosta) \textbf{New~script}. Skriptieditori\index{skriptieditori}
aukeaa. Kirjoita skriptirivit tavalliseen tapaan ja tallenna\index{skriptin tallentaminen}
skripti \textbf{File}-valikosta komennolla \textbf{Save}.
\item Kun haluat avata\index{skriptin avaaminen} jo aikaisemmin tallennetun
skriptin Praatissa, valitse 

\begin{itemize}
\item objektilistan \textbf{Control}-valikosta \textbf{Open~script\ldots{} }
\item tai jonkin editori-ikkunan \textbf{File}-valikosta \textbf{Open~editor~script\ldots{}}
\end{itemize}
\noindent T‰ss‰ vaiheessa on huomioitava, kumpaa kautta skripti on
tarkoitettu avattavaksi: editoriskriptit eiv‰t v‰ltt‰m‰tt‰ toimi,
jos ne avataan objektilistan valikosta ja p‰invastoin.

\end{itemize}

\section{\label{sec:Historiatoiminto}Skriptauksen opettelu historiatoiminnon
avulla}

Historiatoiminto\index{historiatoiminto} on helpoin tapa aloittaa
skriptaus Praatissa. Historiaominaisuus muistuttaa hieman esimerkiksi
Microsoft Wordin makroja, joihin voi ensin tallettaa erilaisia toimenpidesarjoja
ja toistaa niit‰ sitten yh‰ uudelleen.

\begin{itemize}
\item Avaa skripti tai luo uusi Praatin omaan tekstieditoriin (ks. edellinen
kohta). 
\item Kokeile skripti-ikkunan \textbf{Edit}-valikon komentoa \textbf{Paste~history}\index{Paste history}.
Praat kirjoittaa skriptikielell‰ kaikki ne toiminnot, joita olet suorittanut
siit‰ saakka kun Praatin avasit.
\item \textbf{Edit}-valikon komento \textbf{Clear~history} tyhjent‰‰ historian
ja aloittaa sen ker‰‰misen alusta, jolloin voit tallettaa skriptiin
vain muutaman viimeisimm‰n komennon. Historian avulla on helppo \char`\"{}luntata\char`\"{},
miten jokin asia Praatin skriptikieless‰ tehd‰‰n.
\end{itemize}
Huom. Kaikki Praatissa n‰kyv‰t valikkokomennot ja painikkeet ovat
samalla skriptikielen komentoja! Voit siis myˆs \char`\"{}luntata\char`\"{}
komentoja katsomalla niiden tarkan sanamuodon suoraan valikoista.
Jos esimerkiksi analyysin tekemiseen kysyt‰‰n k‰ytt‰j‰lt‰ tietoja:
esim. Pitch-analyysissa '\emph{time step}', '\emph{minimum pitch}'
ja '\emph{maximum pitch}', n‰m‰ tiedot pit‰‰ skriptatessa antaa samassa
j‰rjestyksess‰ varsinaisen \textbf{To~Pitch...}-komennon per‰‰n v‰lilyˆnneill‰
erotettuna. Esimerkiksi komento

\textsf{To~Pitch...~0.01~75~400}

laskee Pitch-objektin parametreill‰ 0.01 sekuntia, 75 Hz ja 400 Hz.

Historiatoiminto on k‰tev‰, mutta se ei anna k‰yttˆˆsi kaikkia skriptikielen
\char`\"{}ohjelmointiteknisi‰\char`\"{} mahdollisuuksia. Et esimerkiksi
voi tuottaa historiatoiminnolla muuttujia, k‰sitell‰ merkkijonoja
tai tehd‰ silmukkaa l. toistaa samaa komentosarjaa vaihtelevilla parametreilla
ilman, ett‰ tekisit kaiken ensin kohta kohdalta k‰sin. Historia auttaa
siis alkuun ja antaa vinkkej‰ skriptin eri osia varten. Mit‰ monimutkaisempi
toimintosarja, sit‰ enemm‰n joudut luultavasti itse miettim‰‰n. 

Katso siis lis‰ohjeita Praatin sis‰isest‰ manuaalista , kohdasta Scripting
tutorial! 


\section{\label{sec:Miten-skripti-suoritetaan}Skriptin suorittaminen (ajaminen) }

Jos olet lˆyt‰nyt skriptin verkosta, lataa se ensin omalle koneellesi
ja tallenna sopivaan paikkaan.

\begin{enumerate}
\item Jotta voit suorittaa (ajaa) skriptin, sinun on avattava se Praatin
omaan skriptieditoriin\index{skriptieditori} v‰hint‰‰n kerran.

\begin{itemize}
\item Skripti avataan objektilistasta k‰sin valitsemalla \textbf{Control}-valikosta
\textbf{Open script... }
\item Erilaisista editori-ikkunoistakin voit skriptin avata. T‰llˆin \textbf{Open
script...}-komento lˆytyy kyseisen editorin \textbf{File}-valikosta.
\end{itemize}
\item Kun skripti-ikkuna on n‰kyviss‰, voit suorittaa skriptin valitsemalla
\textbf{Run\ldots{}~->~Run}.
\end{enumerate}
Huom. Jos luot usein k‰ytt‰m‰llesi Praat-skriptille oman valikkokomennon
tai painikkeen (ks. alla), sinun ei tarvitse myˆhemmin en‰‰ avata
skripti‰ Praatissa kyseisell‰ koneella, kunhan s‰ilyt‰t skriptitiedoston
samannimisen‰ samassa paikassa.


\section{\label{sec:Valikkokomennot-ja-painikkeet}Valikkokomentojen ja painikkeiden
luominen skripteille }


\subsection{\label{sub:Valikkokomennon-luonti-skriptille}Valikkokomennon luonti
skriptille (fixed menu)}

\begin{enumerate}
\item Avaa skripti sellaisen Praatin ikkunan sis‰lt‰, johon valikkokomennon\index{valikkokomennon luominen}
tai painikkeen pit‰isi liitty‰.

\begin{itemize}
\item Jos haluat, ett‰ komento tulee objektilistan tai piirtoikkunan johonkin
valikkoon, valitse objektilistan \textbf{Control}-valikosta \textbf{Open
script...} Valitse sitten \textbf{File}-valikosta \textbf{Add to fixed
menu...}
\item Jos taas haluat komennon esim. TextGrid-editori-ikkunan valikkoon,
avaa ensin TextGrid-editori mille tahansa TextGrid- ja ‰‰niobjektille
ja valitse editorin \textbf{File}- valikosta \textbf{Open script...}
Valitse sitten \textbf{File}-valikosta \textbf{Add to menu...}
\end{itemize}
\item Kirjoita, mihin valikkoon (\emph{Menu}) uuden komennon haluat ja mik‰
komennon teksti (\emph{Command}) on. Jos avasit skriptin jostakin
editori-ikkunasta, komento tulee n‰kyviin valikkoon vasta, kun seuraavan
kerran avaat uuden editori-ikkunan.
\end{enumerate}

\subsection{\label{sub:Painikkeen-luonti-skriptille}Painikkeen luonti skriptille
(dynamic menu)}

Painikkeen\index{painikkeen luominen} voit luoda vain objektilistaan.

\begin{enumerate}
\item Valitse objektilistan \textbf{Control}-valikosta \textbf{Open script...}
Valitse sitten skripti-ikkunan File-valikosta Add to dynamic menu... 
\item Kirjoita kohtaan \emph{Class 1} se objektityyppi (esim. Sound tai
TextGrid), jonka on oltava objektilistassa valittuna, jotta painike
olisi n‰kyviss‰. 
\item Kirjoita kohtaan \emph{Number 1}, montako \emph{Class 1}-tyyppist‰
objektia on v‰hint‰‰n oltava valittuna, jotta painike n‰kyisi. Jos
lukum‰‰r‰ll‰ ei ole v‰li‰, j‰t‰ t‰h‰n kohtaan 0.
\item Kirjoita kohtaan \emph{Command} se teksti, jonka haluat n‰kyv‰n painikkeessa.
\item Tarkista, ett‰ kohdassa \emph{Script file} on oikea tiedostopolku
skriptiin. 
\item Paina \emph{OK}.
\end{enumerate}

\subsection{\label{sub:Valikkokomennon-poistaminen}Valikkokomennon tai painikkeen
poistaminen}

\begin{enumerate}
\item Valikkokomennon\index{Valikkokomennon poistaminen tai k\"atkeminen}
tai painikkeen voit poistaa objektilistan \textbf{Control}-valikon
komennolla \textbf{Preferences...:} \textbf{Buttons...}
\item N‰kyviin tulee ikkuna, jossa on luettelot kaikista Praatin valikkokomennoista
ja painikkeista. Ikkunan yl‰reunasta voit valita, n‰ytet‰‰nkˆ esim.
objektilistan vai piirtoikkunan valikot vai esim. kaikki painikkeet
A:sta M:‰‰n. 
\item Praatin sis‰‰nrakennettujen komentojen kohdalla voit valita, onko
komento n‰kyviss‰ (\emph{shown}) vain k‰ytt‰j‰lt‰ piilossa (\emph{hidden}).
\item Itse lis‰‰miesi komentojen ja painikkeiden kohdalla lukee \emph{ADDED},
ja kun klikkaat kyseist‰ kohtaa, teksti muuttuu muotoon \emph{REMOVED}
ja komento h‰vi‰‰ Praatista. Skripti tietenkin pysyy tallella ja voit
uudestaan k‰ytt‰‰ sit‰ Praatissa milloin tahansa.
\end{enumerate}

\section{Mit‰ vaaroja skriptien k‰ytt‰misess‰ voi olla?}

\begin{itemize}
\item Praat-skriptikin\index{skriptauksen huonot puolet} voi olla mahdollinen
tietoturvariski. K‰yt‰ vain skriptej‰, jotka saat luotettavasta l‰hteest‰
ja joiden toiminnan varmasti tunnet. ƒl‰ myˆsk‰‰n itse kirjoita skriptej‰,
jotka esim. poistavat tiedostoja k‰ytt‰j‰lt‰ kysym‰tt‰.
\item Esimerkiksi erilaisia akustisia analyyseja on hyvin helppo automatisoida
skriptaamalla. Jollet kuitenkaan tunne analyysien k‰yttˆaluetta ja
analyysiparametrien toimintaa, saatat tiet‰m‰tt‰si tuottaa j‰rjettˆmi‰
tuloksia. Praat ei tarkista, miten fiksuja tai luotettavia mittauksesi
ovat, kunhan skriptin syntaksi on korrekti!
\item Testaa aina skripti‰si ensin pienell‰ aineistolla ja tutki k‰sin,
ovatko skriptin tuottamat mittaustulokset oikeita. Kokeneellekin voi
sattua pikku kirjoitusvirheit‰\ldots{}
\end{itemize}
\listoffigures


\printindex{}

\bibliographystyle{plain}
\cleardoublepage\addcontentsline{toc}{chapter}{\bibname}\bibliography{/home/lennes/bib/ref}

\end{document}
